\hypertarget{Almog__Engine_8h}{}\doxysection{src/include/\+Almog\+\_\+\+Engine.h File Reference}
\label{Almog__Engine_8h}\index{src/include/Almog\_Engine.h@{src/include/Almog\_Engine.h}}


Software 3D rendering and scene utilities for meshes, camera, and projection.  


{\ttfamily \#include \char`\"{}./\+Almog\+\_\+\+Dynamic\+\_\+\+Array.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}./\+Matrix2\+D.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}./\+Almog\+\_\+\+Draw\+\_\+\+Library.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}./\+Almog\+\_\+\+String\+\_\+\+Manipulation.\+h\char`\"{}}\newline
{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$float.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
Include dependency graph for Almog\+\_\+\+Engine.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Almog__Engine_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Almog__Engine_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structTri__mesh__array}{Tri\+\_\+mesh\+\_\+array}}
\item 
struct \mbox{\hyperlink{structQuad__mesh__array}{Quad\+\_\+mesh\+\_\+array}}
\item 
struct \mbox{\hyperlink{structCamera}{Camera}}
\item 
struct \mbox{\hyperlink{structLight__source}{Light\+\_\+source}}
\item 
struct \mbox{\hyperlink{structMaterial}{Material}}
\item 
struct \mbox{\hyperlink{structScene}{Scene}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_ae0ee5af7ebeb8607977697ad6710723f}{AE\+\_\+\+ASSERT}}~assert
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a370cf2e354323ac710025b5c1e2c58ee}{STL\+\_\+\+HEADER\+\_\+\+SIZE}}~80
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_adc4d38536e2dbc11bd68cda744bde13e}{STL\+\_\+\+NUM\+\_\+\+SIZE}}~4
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_ad65703d595e8448cd1669cc21a2d8d16}{STL\+\_\+\+SIZE\+\_\+\+FOREACH\+\_\+\+TRI}}~50
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a45967694710f3c5c2924b7afff0e9775}{STL\+\_\+\+ATTRIBUTE\+\_\+\+BITS\+\_\+\+SIZE}}~2
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a6f18a8c8789c03cb3eb675357954917f}{ARGB\+\_\+hex\+ARGB}}(a,  r,  g,  b)~0x01000000l$\ast$(uint8\+\_\+t)(a) + 0x00010000$\ast$(uint8\+\_\+t)(r) + 0x00000100$\ast$(uint8\+\_\+t)(g) + 0x00000001$\ast$(uint8\+\_\+t)(b)
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a03c3b1820f0b451f70c3b3848cd80ddb}{AE\+\_\+\+MAX\+\_\+\+POINT\+\_\+\+VAL}}~1e5
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a47b289604d96908f7b3ae5ea6235be9c}{ae\+\_\+assert\+\_\+point\+\_\+is\+\_\+valid}}(p)
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_ad51295cab44c98e63a76c2f2ecaeb16c}{ae\+\_\+assert\+\_\+tri\+\_\+is\+\_\+valid}}(tri)
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a22d15e5e7a171794c5d7e984e2511beb}{ae\+\_\+assert\+\_\+quad\+\_\+is\+\_\+valid}}(quad)
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a88641a8940288e9e15bd21b7b96c6245}{ae\+\_\+point\+\_\+normalize\+\_\+xyz\+\_\+norma}}(p,  norma)
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a99f5599df51ee61f6b79cb702dd90718}{ae\+\_\+point\+\_\+calc\+\_\+norma}}(p)~sqrt(((p).x $\ast$ (p).x) + ((p).y $\ast$ (p).y) + ((p).z $\ast$ (p).z))
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a79d5f5baf43bc7a9c1c9d5ae1d3a18c3}{ae\+\_\+point\+\_\+add\+\_\+point}}(p,  p1,  p2)
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a9575038baa976bf6b7c39cefd2f2c80b}{ae\+\_\+point\+\_\+sub\+\_\+point}}(p,  p1,  p2)
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_af776055b6fac2e29e16d4a4fbd32d91b}{ae\+\_\+point\+\_\+dot\+\_\+point}}(p1,  p2)~(((p1).x $\ast$ (p2).x) + ((p1).y $\ast$ (p2).y) + ((p1).z $\ast$ (p2).z))
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a7a7f28fc36bafd3717ab9c0fc5103e03}{ae\+\_\+point\+\_\+mult}}(p,  const)
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a640ff0675ee6dc6d040bf5941be08258}{ae\+\_\+points\+\_\+equal}}(p1,  p2)~(p1).x == (p2).x \&\& (p1).y == (p2).y \&\& (p1).z == (p2).z
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a2296609e5a9e3c6015c56ccfebaaadc6}{TRI\+\_\+\+MESH\+\_\+\+ARRAY}}
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a398bca11413e52815bbc275b2c797347}{QUAD\+\_\+\+MESH\+\_\+\+ARRAY}}
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a899e6cd6738dea0e52e5bbcb017a257e}{AE\+\_\+\+PRINT\+\_\+\+TRI}}(tri)~\mbox{\hyperlink{Almog__Engine_8h_a1e9358707d11584816ff73dd09aa9882}{ae\+\_\+print\+\_\+tri}}(tri, \#tri, 0)
\item 
\#define \mbox{\hyperlink{Almog__Engine_8h_a7b30a109359f4a6a1e27161d8a2b8dd6}{AE\+\_\+\+PRINT\+\_\+\+MESH}}(mesh)~\mbox{\hyperlink{Almog__Engine_8h_a4243299cc15f3c47c38f445a8e74f48e}{ae\+\_\+print\+\_\+tri\+\_\+mesh}}(mesh, \#mesh, 0)
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}} \{ \mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501ad2872f5089e1989c79eaf9a2d83faceb}{AE\+\_\+\+LIGHTING\+\_\+\+FLAT}}
, \mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501a960031a84842327b8c9061dc0f9752b6}{AE\+\_\+\+LIGHTING\+\_\+\+SMOOTH}}
, \mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501ac75a3c6fda462283fc3d03e3167f7e73}{AE\+\_\+\+LIGHTING\+\_\+\+MODE\+\_\+\+LENGTH}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structTri}{Tri}} \mbox{\hyperlink{Almog__Engine_8h_a79c90a129257a4d5daa335977a47b666}{ae\+\_\+tri\+\_\+create}} (\mbox{\hyperlink{structPoint}{Point}} p1, \mbox{\hyperlink{structPoint}{Point}} p2, \mbox{\hyperlink{structPoint}{Point}} p3)
\begin{DoxyCompactList}\small\item\em Create a triangle from three points. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a4b435e38049391004f3116c7cfedce87}{ae\+\_\+tri\+\_\+mesh\+\_\+create\+\_\+copy}} (\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} $\ast$des, \mbox{\hyperlink{structTri}{Tri}} $\ast$src\+\_\+elements, size\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Append copies of triangles to a destination \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} (resets destination length first). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_acd168aacba26b933321f17d3fcd5d700}{ae\+\_\+camera\+\_\+init}} (\mbox{\hyperlink{structScene}{Scene}} $\ast$scene, int window\+\_\+h, int window\+\_\+w)
\begin{DoxyCompactList}\small\item\em Initialize the camera part of a \mbox{\hyperlink{structScene}{Scene}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_aee42720d506b69cc9c5b329e71140412}{ae\+\_\+camera\+\_\+free}} (\mbox{\hyperlink{structScene}{Scene}} $\ast$scene)
\begin{DoxyCompactList}\small\item\em Free camera-\/related allocations in a \mbox{\hyperlink{structScene}{Scene}}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structScene}{Scene}} \mbox{\hyperlink{Almog__Engine_8h_a20905d8a847c8c005e4ea73678a6a8ec}{ae\+\_\+scene\+\_\+init}} (int window\+\_\+h, int window\+\_\+w)
\begin{DoxyCompactList}\small\item\em Create and initialize a \mbox{\hyperlink{structScene}{Scene}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_ad38d3a6db0cc5704ab3dc39deac988e8}{ae\+\_\+scene\+\_\+free}} (\mbox{\hyperlink{structScene}{Scene}} $\ast$scene)
\begin{DoxyCompactList}\small\item\em Free all resources owned by a \mbox{\hyperlink{structScene}{Scene}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a83b3ed3c99a19cf592c1eebed7e09f9b}{ae\+\_\+camera\+\_\+reset\+\_\+pos}} (\mbox{\hyperlink{structScene}{Scene}} $\ast$scene)
\begin{DoxyCompactList}\small\item\em Reset camera orientation and position to initial state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a35a66ba0fbf0ed95b863ecde0962a496}{ae\+\_\+point\+\_\+to\+\_\+mat2D}} (\mbox{\hyperlink{structPoint}{Point}} p, \mbox{\hyperlink{structMat2D}{Mat2D}} m)
\begin{DoxyCompactList}\small\item\em Write a \mbox{\hyperlink{structPoint}{Point}} into a \mbox{\hyperlink{structMat2D}{Mat2D}} vector. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structPoint}{Point}} \mbox{\hyperlink{Almog__Engine_8h_af02975c063e1ea909c3bbc94210ea85f}{ae\+\_\+mat2\+D\+\_\+to\+\_\+point}} (\mbox{\hyperlink{structMat2D}{Mat2D}} m)
\begin{DoxyCompactList}\small\item\em Read a 3x1 \mbox{\hyperlink{structMat2D}{Mat2D}} vector into a \mbox{\hyperlink{structPoint}{Point}}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} \mbox{\hyperlink{Almog__Engine_8h_aef0dc6e58e24d1fad454eedddcbecda3}{ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+obj\+\_\+file}} (char $\ast$file\+\_\+path)
\begin{DoxyCompactList}\small\item\em Load a triangle mesh from a Wavefront OBJ file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} \mbox{\hyperlink{Almog__Engine_8h_aae60309114a77dde9494d50c049998e0}{ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+stl\+\_\+file}} (char $\ast$file\+\_\+path)
\begin{DoxyCompactList}\small\item\em Load a triangle mesh from a binary STL file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} \mbox{\hyperlink{Almog__Engine_8h_af8271eb7d6d313acddd78b4bcf6a8555}{ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+file}} (char $\ast$file\+\_\+path)
\begin{DoxyCompactList}\small\item\em Load a triangle mesh from a file (OBJ or STL). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_abf4e49af66c2e3d0c5d8fba65ce4f2bc}{ae\+\_\+tri\+\_\+mesh\+\_\+appand\+\_\+copy}} (\mbox{\hyperlink{structTri__mesh__array}{Tri\+\_\+mesh\+\_\+array}} $\ast$mesh\+\_\+array, \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} mesh)
\begin{DoxyCompactList}\small\item\em Append a copy of a \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} into a \mbox{\hyperlink{structTri__mesh__array}{Tri\+\_\+mesh\+\_\+array}}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} \mbox{\hyperlink{Almog__Engine_8h_a4d2ce5dce0415cc4b1cf02c1f6c6bc77}{ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+quad\+\_\+mesh}} (\mbox{\hyperlink{structQuad__mesh}{Quad\+\_\+mesh}} q\+\_\+mesh)
\begin{DoxyCompactList}\small\item\em Convert a \mbox{\hyperlink{structQuad__mesh}{Quad\+\_\+mesh}} into a \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_ad22d3f1e0cac0fc8d19398b0d43dbfc7}{ae\+\_\+print\+\_\+points}} (\mbox{\hyperlink{structCurve}{Curve}} p)
\begin{DoxyCompactList}\small\item\em Print a list of points to stdout. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a1e9358707d11584816ff73dd09aa9882}{ae\+\_\+print\+\_\+tri}} (\mbox{\hyperlink{structTri}{Tri}} tri, char $\ast$name, size\+\_\+t padding)
\begin{DoxyCompactList}\small\item\em Print a triangle to stdout. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a4243299cc15f3c47c38f445a8e74f48e}{ae\+\_\+print\+\_\+tri\+\_\+mesh}} (\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} mesh, char $\ast$name, size\+\_\+t padding)
\begin{DoxyCompactList}\small\item\em Print all triangles in a mesh to stdout. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structPoint}{Point}} \mbox{\hyperlink{Almog__Engine_8h_a97027681fd682ebb13f18d00a188a9b1}{ae\+\_\+point\+\_\+normalize\+\_\+xyz}} (\mbox{\hyperlink{structPoint}{Point}} p)
\begin{DoxyCompactList}\small\item\em Normalize a point\textquotesingle{}s xyz to unit length. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a11c1d61181fe9b0d824fb2be51662659}{ae\+\_\+tri\+\_\+set\+\_\+normals}} (\mbox{\hyperlink{structTri}{Tri}} $\ast$tri)
\begin{DoxyCompactList}\small\item\em Compute and set per-\/vertex normals for a triangle. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structPoint}{Point}} \mbox{\hyperlink{Almog__Engine_8h_ae88854393111f68a7fcc4977070d981b}{ae\+\_\+tri\+\_\+get\+\_\+average\+\_\+normal}} (\mbox{\hyperlink{structTri}{Tri}} tri)
\begin{DoxyCompactList}\small\item\em Compute the average of the three vertex normals of a triangle. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structPoint}{Point}} \mbox{\hyperlink{Almog__Engine_8h_a3ee60e72e8969b1cf15d333a091f8ae7}{ae\+\_\+tri\+\_\+get\+\_\+average\+\_\+point}} (\mbox{\hyperlink{structTri}{Tri}} tri)
\begin{DoxyCompactList}\small\item\em Compute the average of the three vertices of a triangle. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_add210cedd8afbad661cb2afb96c077df}{ae\+\_\+tri\+\_\+calc\+\_\+normal}} (\mbox{\hyperlink{structMat2D}{Mat2D}} normal, \mbox{\hyperlink{structTri}{Tri}} tri)
\begin{DoxyCompactList}\small\item\em Compute the face normal of a triangle. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a2b42f501a0c410d33c3c77188b2373d5}{ae\+\_\+tri\+\_\+mesh\+\_\+translate}} (\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} mesh, float x, float y, float z)
\begin{DoxyCompactList}\small\item\em Translate a triangle mesh by (x, y, z). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a7b0d79ba4b2f6afdbe3c40c5a1a175de}{ae\+\_\+tri\+\_\+mesh\+\_\+rotate\+\_\+\+Euler\+\_\+xyz}} (\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} mesh, float phi\+\_\+deg, float theta\+\_\+deg, float psi\+\_\+deg)
\begin{DoxyCompactList}\small\item\em Rotate a triangle mesh using XYZ Euler angles (degrees). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a63cfcc7dda05af0fe61b57f012f949d2}{ae\+\_\+tri\+\_\+mesh\+\_\+set\+\_\+bounding\+\_\+box}} (\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} mesh, float $\ast$x\+\_\+min, float $\ast$x\+\_\+max, float $\ast$y\+\_\+min, float $\ast$y\+\_\+max, float $\ast$z\+\_\+min, float $\ast$z\+\_\+max)
\begin{DoxyCompactList}\small\item\em Compute the axis-\/aligned bounding box of a triangle mesh. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_ae970b00a8720bd46cf0743327170b4c2}{ae\+\_\+tri\+\_\+mesh\+\_\+normalize}} (\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} mesh)
\begin{DoxyCompactList}\small\item\em Normalize mesh coordinates to \mbox{[}-\/1, 1\mbox{]}, centered at origin. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_ab014e21d442505ee1ca7c910a6307f8a}{ae\+\_\+tri\+\_\+mesh\+\_\+flip\+\_\+normals}} (\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} mesh)
\begin{DoxyCompactList}\small\item\em Flip triangle winding and recompute per-\/vertex normals. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_aa8b3ea525ba405673473938bf9065c63}{ae\+\_\+tri\+\_\+mesh\+\_\+set\+\_\+normals}} (\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} mesh)
\begin{DoxyCompactList}\small\item\em Recompute per-\/vertex normals for all triangles in a mesh. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_ae7bccc35b4caefa9f167e3267813e921}{ae\+\_\+quad\+\_\+set\+\_\+normals}} (\mbox{\hyperlink{structQuad}{Quad}} $\ast$quad)
\begin{DoxyCompactList}\small\item\em Compute and set per-\/vertex normals for a quad. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structPoint}{Point}} \mbox{\hyperlink{Almog__Engine_8h_a13940b94d775b4887b34e03ffff9661e}{ae\+\_\+quad\+\_\+get\+\_\+average\+\_\+normal}} (\mbox{\hyperlink{structQuad}{Quad}} quad)
\begin{DoxyCompactList}\small\item\em Compute the average of the four vertex normals of a quad. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structPoint}{Point}} \mbox{\hyperlink{Almog__Engine_8h_ad1f69bc7c34ba800623bdc3e693a2bcb}{ae\+\_\+quad\+\_\+get\+\_\+average\+\_\+point}} (\mbox{\hyperlink{structQuad}{Quad}} quad)
\begin{DoxyCompactList}\small\item\em Compute the average of the four vertices of a quad. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_af54cb5c301bedf21f37ed3fdaf7287b5}{ae\+\_\+quad\+\_\+calc\+\_\+normal}} (\mbox{\hyperlink{structMat2D}{Mat2D}} normal, \mbox{\hyperlink{structQuad}{Quad}} quad)
\begin{DoxyCompactList}\small\item\em Compute the face normal of a quad using the first three vertices. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_aac75dd9d298e655d12249edc154e7591}{ae\+\_\+curve\+\_\+copy}} (\mbox{\hyperlink{structCurve}{Curve}} $\ast$des, \mbox{\hyperlink{structCurve}{Curve}} src)
\begin{DoxyCompactList}\small\item\em Copy a \mbox{\hyperlink{structCurve}{Curve}} (ADA array of points). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_abbea9d10462f28e6e52352a6c36ffabd}{ae\+\_\+tri\+\_\+calc\+\_\+light\+\_\+intensity}} (\mbox{\hyperlink{structTri}{Tri}} $\ast$tri, \mbox{\hyperlink{structScene}{Scene}} $\ast$scene, \mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}} lighting\+\_\+mode)
\begin{DoxyCompactList}\small\item\em Compute per-\/vertex lighting intensity for a triangle. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a36c108042b6ed289b4d0f85f8c5700ee}{ae\+\_\+quad\+\_\+calc\+\_\+light\+\_\+intensity}} (\mbox{\hyperlink{structQuad}{Quad}} $\ast$quad, \mbox{\hyperlink{structScene}{Scene}} $\ast$scene, \mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}} lighting\+\_\+mode)
\begin{DoxyCompactList}\small\item\em Compute per-\/vertex lighting intensity for a quad. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structPoint}{Point}} \mbox{\hyperlink{Almog__Engine_8h_a3fdac032dabf1b1b41cc4264ab5b3ed7}{ae\+\_\+line\+\_\+itersect\+\_\+plane}} (\mbox{\hyperlink{structMat2D}{Mat2D}} plane\+\_\+p, \mbox{\hyperlink{structMat2D}{Mat2D}} plane\+\_\+n, \mbox{\hyperlink{structMat2D}{Mat2D}} line\+\_\+start, \mbox{\hyperlink{structMat2D}{Mat2D}} line\+\_\+end, float $\ast$t)
\begin{DoxyCompactList}\small\item\em Intersect a line segment with a plane. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{Almog__Engine_8h_a16d1ee56f32a7e62f49bdee310d580c0}{ae\+\_\+line\+\_\+clip\+\_\+with\+\_\+plane}} (\mbox{\hyperlink{structPoint}{Point}} start\+\_\+in, \mbox{\hyperlink{structPoint}{Point}} end\+\_\+in, \mbox{\hyperlink{structMat2D}{Mat2D}} plane\+\_\+p, \mbox{\hyperlink{structMat2D}{Mat2D}} plane\+\_\+n, \mbox{\hyperlink{structPoint}{Point}} $\ast$start\+\_\+out, \mbox{\hyperlink{structPoint}{Point}} $\ast$end\+\_\+out)
\begin{DoxyCompactList}\small\item\em Clip a line segment against a plane. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{Almog__Engine_8h_addb82974119ee833122b944f3c0c1b71}{ae\+\_\+signed\+\_\+dist\+\_\+point\+\_\+and\+\_\+plane}} (\mbox{\hyperlink{structPoint}{Point}} p, \mbox{\hyperlink{structMat2D}{Mat2D}} plane\+\_\+p, \mbox{\hyperlink{structMat2D}{Mat2D}} plane\+\_\+n)
\begin{DoxyCompactList}\small\item\em Signed distance from a point to a plane. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{Almog__Engine_8h_a8c5f2139e3c08f222e1c1bf9ccb4c8b8}{ae\+\_\+tri\+\_\+clip\+\_\+with\+\_\+plane}} (\mbox{\hyperlink{structTri}{Tri}} tri\+\_\+in, \mbox{\hyperlink{structMat2D}{Mat2D}} plane\+\_\+p, \mbox{\hyperlink{structMat2D}{Mat2D}} plane\+\_\+n, \mbox{\hyperlink{structTri}{Tri}} $\ast$tri\+\_\+out1, \mbox{\hyperlink{structTri}{Tri}} $\ast$tri\+\_\+out2)
\begin{DoxyCompactList}\small\item\em Clip a triangle against a plane. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{Almog__Engine_8h_aff9453f6f1fde30f7752ac03fd49aebb}{ae\+\_\+quad\+\_\+clip\+\_\+with\+\_\+plane}} (\mbox{\hyperlink{structQuad}{Quad}} quad\+\_\+in, \mbox{\hyperlink{structMat2D}{Mat2D}} plane\+\_\+p, \mbox{\hyperlink{structMat2D}{Mat2D}} plane\+\_\+n, \mbox{\hyperlink{structQuad}{Quad}} $\ast$quad\+\_\+out1, \mbox{\hyperlink{structQuad}{Quad}} $\ast$quad\+\_\+out2)
\begin{DoxyCompactList}\small\item\em Clip a quad against a plane. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a1b7def01c3bfc991682cdd645b806672}{ae\+\_\+projection\+\_\+mat\+\_\+set}} (\mbox{\hyperlink{structMat2D}{Mat2D}} proj\+\_\+mat, float aspect\+\_\+ratio, float FOV\+\_\+deg, float z\+\_\+near, float z\+\_\+far)
\begin{DoxyCompactList}\small\item\em Build a perspective projection matrix. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a973977dd2f135de3e1091cf8bbd0f7ff}{ae\+\_\+view\+\_\+mat\+\_\+set}} (\mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structCamera}{Camera}} camera, \mbox{\hyperlink{structMat2D}{Mat2D}} up)
\begin{DoxyCompactList}\small\item\em Build a right-\/handed view matrix from a \mbox{\hyperlink{structCamera}{Camera}} and up vector. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structPoint}{Point}} \mbox{\hyperlink{Almog__Engine_8h_a45d3a5d37afa1cc50d2920d8684a5efc}{ae\+\_\+point\+\_\+project\+\_\+world2screen}} (\mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structMat2D}{Mat2D}} proj\+\_\+mat, \mbox{\hyperlink{structPoint}{Point}} src, int window\+\_\+w, int window\+\_\+h)
\begin{DoxyCompactList}\small\item\em Project a point from world space directly to screen space. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structPoint}{Point}} \mbox{\hyperlink{Almog__Engine_8h_ad43833aa381862dba7a1e91e81260103}{ae\+\_\+point\+\_\+project\+\_\+world2view}} (\mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structPoint}{Point}} src)
\begin{DoxyCompactList}\small\item\em Transform a point from world space to view space. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structPoint}{Point}} \mbox{\hyperlink{Almog__Engine_8h_ae10d1bf00c014c797936ebea24b4e81a}{ae\+\_\+point\+\_\+project\+\_\+view2screen}} (\mbox{\hyperlink{structMat2D}{Mat2D}} proj\+\_\+mat, \mbox{\hyperlink{structPoint}{Point}} src, int window\+\_\+w, int window\+\_\+h)
\begin{DoxyCompactList}\small\item\em Project a view-\/space point to screen space. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_ae7ed56cd28c920fcd190a3d8ff3e0283}{ae\+\_\+line\+\_\+project\+\_\+world2screen}} (\mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structMat2D}{Mat2D}} proj\+\_\+mat, \mbox{\hyperlink{structPoint}{Point}} start\+\_\+src, \mbox{\hyperlink{structPoint}{Point}} end\+\_\+src, int window\+\_\+w, int window\+\_\+h, \mbox{\hyperlink{structPoint}{Point}} $\ast$start\+\_\+des, \mbox{\hyperlink{structPoint}{Point}} $\ast$end\+\_\+des, \mbox{\hyperlink{structScene}{Scene}} $\ast$scene)
\begin{DoxyCompactList}\small\item\em Project and near-\/clip a world-\/space line segment to screen space. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structTri}{Tri}} \mbox{\hyperlink{Almog__Engine_8h_a1c1797fd06019133cacb5329fa1fe24e}{ae\+\_\+tri\+\_\+transform\+\_\+to\+\_\+view}} (\mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structTri}{Tri}} tri)
\begin{DoxyCompactList}\small\item\em Transform a triangle from world space to view space. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} \mbox{\hyperlink{Almog__Engine_8h_a58de2ce54cb320d8cade6a8de95d89d3}{ae\+\_\+tri\+\_\+project\+\_\+world2screen}} (\mbox{\hyperlink{structMat2D}{Mat2D}} proj\+\_\+mat, \mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structTri}{Tri}} tri, int window\+\_\+w, int window\+\_\+h, \mbox{\hyperlink{structScene}{Scene}} $\ast$scene, \mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}} lighting\+\_\+mode)
\begin{DoxyCompactList}\small\item\em Project a single world-\/space triangle to screen space with clipping. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_ad67eee66e34c55818406703f2a13ccd5}{ae\+\_\+tri\+\_\+mesh\+\_\+project\+\_\+world2screen}} (\mbox{\hyperlink{structMat2D}{Mat2D}} proj\+\_\+mat, \mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} $\ast$des, \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} src, int window\+\_\+w, int window\+\_\+h, \mbox{\hyperlink{structScene}{Scene}} $\ast$scene, \mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}} lighting\+\_\+mode)
\begin{DoxyCompactList}\small\item\em Project a triangle mesh from world to screen space with clipping. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structQuad}{Quad}} \mbox{\hyperlink{Almog__Engine_8h_a318de3677b5db4ffd03ae2b73a998e52}{ae\+\_\+quad\+\_\+transform\+\_\+to\+\_\+view}} (\mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structQuad}{Quad}} quad)
\begin{DoxyCompactList}\small\item\em Transform a quad from world space to view space. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structQuad__mesh}{Quad\+\_\+mesh}} \mbox{\hyperlink{Almog__Engine_8h_a328b8b2bb3e397b7d36e72669671868e}{ae\+\_\+quad\+\_\+project\+\_\+world2screen}} (\mbox{\hyperlink{structMat2D}{Mat2D}} proj\+\_\+mat, \mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structQuad}{Quad}} quad, int window\+\_\+w, int window\+\_\+h, \mbox{\hyperlink{structScene}{Scene}} $\ast$scene, \mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}} lighting\+\_\+mode)
\begin{DoxyCompactList}\small\item\em Project a single world-\/space quad to screen space with clipping. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_ad7415d7fdf579c8f89a5279953c1cc0f}{ae\+\_\+quad\+\_\+mesh\+\_\+project\+\_\+world2screen}} (\mbox{\hyperlink{structMat2D}{Mat2D}} proj\+\_\+mat, \mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structQuad__mesh}{Quad\+\_\+mesh}} $\ast$des, \mbox{\hyperlink{structQuad__mesh}{Quad\+\_\+mesh}} src, int window\+\_\+w, int window\+\_\+h, \mbox{\hyperlink{structScene}{Scene}} $\ast$scene, \mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}} lighting\+\_\+mode)
\begin{DoxyCompactList}\small\item\em Project a quad mesh from world to screen space with clipping. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_aaa5131f30f9d6f1844a4422c548b4295}{ae\+\_\+curve\+\_\+project\+\_\+world2screen}} (\mbox{\hyperlink{structMat2D}{Mat2D}} proj\+\_\+mat, \mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structCurve}{Curve}} $\ast$des, \mbox{\hyperlink{structCurve}{Curve}} src, int window\+\_\+w, int window\+\_\+h, \mbox{\hyperlink{structScene}{Scene}} $\ast$scene)
\begin{DoxyCompactList}\small\item\em Project and clip a polyline (\mbox{\hyperlink{structCurve}{Curve}}) from world to screen space. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_af7b851c934b815c8b57bac30b0b1cdae}{ae\+\_\+curve\+\_\+ada\+\_\+project\+\_\+world2screen}} (\mbox{\hyperlink{structMat2D}{Mat2D}} proj\+\_\+mat, \mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structCurve__ada}{Curve\+\_\+ada}} $\ast$des, \mbox{\hyperlink{structCurve__ada}{Curve\+\_\+ada}} src, int window\+\_\+w, int window\+\_\+h, \mbox{\hyperlink{structScene}{Scene}} $\ast$scene)
\begin{DoxyCompactList}\small\item\em Project and clip an array of polylines from world to screen space. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a01d0c3758b20d64c1cbbb2a73a1cdd6c}{ae\+\_\+grid\+\_\+project\+\_\+world2screen}} (\mbox{\hyperlink{structMat2D}{Mat2D}} proj\+\_\+mat, \mbox{\hyperlink{structMat2D}{Mat2D}} view\+\_\+mat, \mbox{\hyperlink{structGrid}{Grid}} des, \mbox{\hyperlink{structGrid}{Grid}} src, int window\+\_\+w, int window\+\_\+h, \mbox{\hyperlink{structScene}{Scene}} $\ast$scene)
\begin{DoxyCompactList}\small\item\em Project and clip all polylines in a \mbox{\hyperlink{structGrid}{Grid}} from world to screen. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a4140d91e2951f6867592ed4dd685b5b3}{ae\+\_\+tri\+\_\+swap}} (\mbox{\hyperlink{structTri}{Tri}} $\ast$v, int i, int j)
\begin{DoxyCompactList}\small\item\em Swap two triangles in an array. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{Almog__Engine_8h_ac07fff7a48f2dc40046df5f8794d61d2}{ae\+\_\+tri\+\_\+compare}} (\mbox{\hyperlink{structTri}{Tri}} t1, \mbox{\hyperlink{structTri}{Tri}} t2)
\begin{DoxyCompactList}\small\item\em Compare two triangles for sorting by depth. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_a6163eec1246f36c8f1f16f40c436bb14}{ae\+\_\+tri\+\_\+qsort}} (\mbox{\hyperlink{structTri}{Tri}} $\ast$v, int left, int right)
\begin{DoxyCompactList}\small\item\em Quicksort an array of triangles by depth. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{Almog__Engine_8h_adfbb375cedddf064ca503a0520c66829}{ae\+\_\+linear\+\_\+map}} (double s, double min\+\_\+in, double max\+\_\+in, double min\+\_\+out, double max\+\_\+out)
\begin{DoxyCompactList}\small\item\em Linearly map a scalar from one range to another. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Almog__Engine_8h_aa9ee39b8a678005ae0d531d9d1356a30}{ae\+\_\+z\+\_\+buffer\+\_\+copy\+\_\+to\+\_\+screen}} (\mbox{\hyperlink{structMat2D__uint32}{Mat2\+D\+\_\+uint32}} screen\+\_\+mat, \mbox{\hyperlink{structMat2D}{Mat2D}} inv\+\_\+z\+\_\+buffer)
\begin{DoxyCompactList}\small\item\em Visualize an inverse-\/z buffer by writing a grayscale image. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Software 3D rendering and scene utilities for meshes, camera, and projection. 

A small, header-\/driven 3D engine providing\+:
\begin{DoxyItemize}
\item \mbox{\hyperlink{structScene}{Scene}} and camera setup (projection/view matrices, Euler navigation).
\item Triangle and quad mesh loading (OBJ/\+ASCII+binary STL), normalization, transforms, and per-\/vertex/face normals.
\item Back-\/face culling, near-\/plane and screen-\/space polygon clipping.
\item Perspective projection (world-\/$>$view-\/$>$screen) and line/grid helpers.
\item Basic Phong-\/like lighting (ambient, diffuse, specular) with flat/smooth modes.
\item Simple z-\/buffer visualization utility.
\end{DoxyItemize}

Inspiration This code is heavily inspired by the 3D engine of \textquotesingle{}One\+Lone\+Coder\textquotesingle{} in C++. You can find the source code in\+: \href{https://github.com/OneLoneCoder/Javidx9/tree/master/ConsoleGameEngine/BiggerProjects/Engine3D}{\texttt{ https\+://github.\+com/\+One\+Lone\+Coder/\+Javidx9/tree/master/\+Console\+Game\+Engine/\+Bigger\+Projects/\+Engine3D}} . featured in this video of his\+: \href{https://youtu.be/ih20l3pJoeU?si=CzQ8rjk5ZEOlqEHN}{\texttt{ https\+://youtu.\+be/ih20l3p\+Joe\+U?si=\+Cz\+Q8rjk5\+ZEOlq\+EHN}}.

\begin{DoxyNote}{Note}
-\/ Depends on \mbox{\hyperlink{Almog__Dynamic__Array_8h}{Almog\+\_\+\+Dynamic\+\_\+\+Array.\+h}}, \mbox{\hyperlink{Matrix2D_8h}{Matrix2\+D.\+h}}, \mbox{\hyperlink{Almog__Draw__Library_8h}{Almog\+\_\+\+Draw\+\_\+\+Library.\+h}}, and \mbox{\hyperlink{Almog__String__Manipulation_8h}{Almog\+\_\+\+String\+\_\+\+Manipulation.\+h}} for math, containers, and I/O utilities. 

-\/ All public functions are prefixed with \textquotesingle{}ae\+\_\+\textquotesingle{}. 

-\/ Define ALMOG\+\_\+\+ENGINE\+\_\+\+IMPLEMENTATION in exactly one translation unit to compile the function bodies. 
\end{DoxyNote}


Definition in file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{Almog__Engine_8h_ae0ee5af7ebeb8607977697ad6710723f}\label{Almog__Engine_8h_ae0ee5af7ebeb8607977697ad6710723f}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!AE\_ASSERT@{AE\_ASSERT}}
\index{AE\_ASSERT@{AE\_ASSERT}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{AE\_ASSERT}{AE\_ASSERT}}
{\footnotesize\ttfamily \#define AE\+\_\+\+ASSERT~assert}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00044}{44}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a47b289604d96908f7b3ae5ea6235be9c}\label{Almog__Engine_8h_a47b289604d96908f7b3ae5ea6235be9c}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_assert\_point\_is\_valid@{ae\_assert\_point\_is\_valid}}
\index{ae\_assert\_point\_is\_valid@{ae\_assert\_point\_is\_valid}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_assert\_point\_is\_valid}{ae\_assert\_point\_is\_valid}}
{\footnotesize\ttfamily \#define ae\+\_\+assert\+\_\+point\+\_\+is\+\_\+valid(\begin{DoxyParamCaption}\item[{}]{p }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{Almog__Engine_8h_ae0ee5af7ebeb8607977697ad6710723f}{AE\_ASSERT}}(isfinite((p).x) \&\& isfinite((p).y) \&\& isfinite((p).z) \&\& isfinite((p).w));    \(\backslash\)}
\DoxyCodeLine{        AE\_ASSERT((p).x > -\/\mbox{\hyperlink{Almog__Engine_8h_a03c3b1820f0b451f70c3b3848cd80ddb}{AE\_MAX\_POINT\_VAL}} \&\& (p).x < \mbox{\hyperlink{Almog__Engine_8h_a03c3b1820f0b451f70c3b3848cd80ddb}{AE\_MAX\_POINT\_VAL}});                                                                  \(\backslash\)}
\DoxyCodeLine{        AE\_ASSERT((p).y > -\/\mbox{\hyperlink{Almog__Engine_8h_a03c3b1820f0b451f70c3b3848cd80ddb}{AE\_MAX\_POINT\_VAL}} \&\& (p).y < \mbox{\hyperlink{Almog__Engine_8h_a03c3b1820f0b451f70c3b3848cd80ddb}{AE\_MAX\_POINT\_VAL}});                                                                  \(\backslash\)}
\DoxyCodeLine{        AE\_ASSERT((p).z > -\/\mbox{\hyperlink{Almog__Engine_8h_a03c3b1820f0b451f70c3b3848cd80ddb}{AE\_MAX\_POINT\_VAL}} \&\& (p).z < \mbox{\hyperlink{Almog__Engine_8h_a03c3b1820f0b451f70c3b3848cd80ddb}{AE\_MAX\_POINT\_VAL}});                                                                  \(\backslash\)}
\DoxyCodeLine{        AE\_ASSERT((p).w > -\/\mbox{\hyperlink{Almog__Engine_8h_a03c3b1820f0b451f70c3b3848cd80ddb}{AE\_MAX\_POINT\_VAL}} \&\& (p).w < \mbox{\hyperlink{Almog__Engine_8h_a03c3b1820f0b451f70c3b3848cd80ddb}{AE\_MAX\_POINT\_VAL}});}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00089}{89}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a22d15e5e7a171794c5d7e984e2511beb}\label{Almog__Engine_8h_a22d15e5e7a171794c5d7e984e2511beb}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_assert\_quad\_is\_valid@{ae\_assert\_quad\_is\_valid}}
\index{ae\_assert\_quad\_is\_valid@{ae\_assert\_quad\_is\_valid}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_assert\_quad\_is\_valid}{ae\_assert\_quad\_is\_valid}}
{\footnotesize\ttfamily \#define ae\+\_\+assert\+\_\+quad\+\_\+is\+\_\+valid(\begin{DoxyParamCaption}\item[{}]{quad }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{Almog__Engine_8h_a47b289604d96908f7b3ae5ea6235be9c}{ae\_assert\_point\_is\_valid}}((quad).points[0]);   \(\backslash\)}
\DoxyCodeLine{        ae\_assert\_point\_is\_valid((quad).points[1]);                                 \(\backslash\)}
\DoxyCodeLine{        ae\_assert\_point\_is\_valid((quad).points[2]);                                 \(\backslash\)}
\DoxyCodeLine{        ae\_assert\_point\_is\_valid((quad).points[3])}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00097}{97}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_ad51295cab44c98e63a76c2f2ecaeb16c}\label{Almog__Engine_8h_ad51295cab44c98e63a76c2f2ecaeb16c}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_assert\_tri\_is\_valid@{ae\_assert\_tri\_is\_valid}}
\index{ae\_assert\_tri\_is\_valid@{ae\_assert\_tri\_is\_valid}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_assert\_tri\_is\_valid}{ae\_assert\_tri\_is\_valid}}
{\footnotesize\ttfamily \#define ae\+\_\+assert\+\_\+tri\+\_\+is\+\_\+valid(\begin{DoxyParamCaption}\item[{}]{tri }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{Almog__Engine_8h_a47b289604d96908f7b3ae5ea6235be9c}{ae\_assert\_point\_is\_valid}}((tri).points[0]);  \(\backslash\)}
\DoxyCodeLine{        ae\_assert\_point\_is\_valid((tri).points[1]);                              \(\backslash\)}
\DoxyCodeLine{        ae\_assert\_point\_is\_valid((tri).points[2])}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00094}{94}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a03c3b1820f0b451f70c3b3848cd80ddb}\label{Almog__Engine_8h_a03c3b1820f0b451f70c3b3848cd80ddb}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!AE\_MAX\_POINT\_VAL@{AE\_MAX\_POINT\_VAL}}
\index{AE\_MAX\_POINT\_VAL@{AE\_MAX\_POINT\_VAL}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{AE\_MAX\_POINT\_VAL}{AE\_MAX\_POINT\_VAL}}
{\footnotesize\ttfamily \#define AE\+\_\+\+MAX\+\_\+\+POINT\+\_\+\+VAL~1e5}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00088}{88}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a79d5f5baf43bc7a9c1c9d5ae1d3a18c3}\label{Almog__Engine_8h_a79d5f5baf43bc7a9c1c9d5ae1d3a18c3}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_point\_add\_point@{ae\_point\_add\_point}}
\index{ae\_point\_add\_point@{ae\_point\_add\_point}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_point\_add\_point}{ae\_point\_add\_point}}
{\footnotesize\ttfamily \#define ae\+\_\+point\+\_\+add\+\_\+point(\begin{DoxyParamCaption}\item[{}]{p,  }\item[{}]{p1,  }\item[{}]{p2 }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        (p).x = (p1).x + (p2).x;  \(\backslash\)}
\DoxyCodeLine{        (p).y = (p1).y + (p2).y;                                \(\backslash\)}
\DoxyCodeLine{        (p).z = (p1).z + (p2).z;                                \(\backslash\)}
\DoxyCodeLine{        (p).w = (p1).w + (p2).w}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00105}{105}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a99f5599df51ee61f6b79cb702dd90718}\label{Almog__Engine_8h_a99f5599df51ee61f6b79cb702dd90718}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_point\_calc\_norma@{ae\_point\_calc\_norma}}
\index{ae\_point\_calc\_norma@{ae\_point\_calc\_norma}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_point\_calc\_norma}{ae\_point\_calc\_norma}}
{\footnotesize\ttfamily \#define ae\+\_\+point\+\_\+calc\+\_\+norma(\begin{DoxyParamCaption}\item[{}]{p }\end{DoxyParamCaption})~sqrt(((p).x $\ast$ (p).x) + ((p).y $\ast$ (p).y) + ((p).z $\ast$ (p).z))}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00104}{104}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_af776055b6fac2e29e16d4a4fbd32d91b}\label{Almog__Engine_8h_af776055b6fac2e29e16d4a4fbd32d91b}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_point\_dot\_point@{ae\_point\_dot\_point}}
\index{ae\_point\_dot\_point@{ae\_point\_dot\_point}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_point\_dot\_point}{ae\_point\_dot\_point}}
{\footnotesize\ttfamily \#define ae\+\_\+point\+\_\+dot\+\_\+point(\begin{DoxyParamCaption}\item[{}]{p1,  }\item[{}]{p2 }\end{DoxyParamCaption})~(((p1).x $\ast$ (p2).x) + ((p1).y $\ast$ (p2).y) + ((p1).z $\ast$ (p2).z))}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00113}{113}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a7a7f28fc36bafd3717ab9c0fc5103e03}\label{Almog__Engine_8h_a7a7f28fc36bafd3717ab9c0fc5103e03}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_point\_mult@{ae\_point\_mult}}
\index{ae\_point\_mult@{ae\_point\_mult}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_point\_mult}{ae\_point\_mult}}
{\footnotesize\ttfamily \#define ae\+\_\+point\+\_\+mult(\begin{DoxyParamCaption}\item[{}]{p,  }\item[{}]{const }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        (p).x *= \textcolor{keyword}{const}; \(\backslash\)}
\DoxyCodeLine{        (p).y *= \textcolor{keyword}{const};                         \(\backslash\)}
\DoxyCodeLine{        (p).z *= const}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00114}{114}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a88641a8940288e9e15bd21b7b96c6245}\label{Almog__Engine_8h_a88641a8940288e9e15bd21b7b96c6245}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_point\_normalize\_xyz\_norma@{ae\_point\_normalize\_xyz\_norma}}
\index{ae\_point\_normalize\_xyz\_norma@{ae\_point\_normalize\_xyz\_norma}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_point\_normalize\_xyz\_norma}{ae\_point\_normalize\_xyz\_norma}}
{\footnotesize\ttfamily \#define ae\+\_\+point\+\_\+normalize\+\_\+xyz\+\_\+norma(\begin{DoxyParamCaption}\item[{}]{p,  }\item[{}]{norma }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        (p).x = (p).x / norma;  \(\backslash\)}
\DoxyCodeLine{        (p).y = (p).y / norma;                        \(\backslash\)}
\DoxyCodeLine{        (p).z = (p).z / norma}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00101}{101}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a9575038baa976bf6b7c39cefd2f2c80b}\label{Almog__Engine_8h_a9575038baa976bf6b7c39cefd2f2c80b}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_point\_sub\_point@{ae\_point\_sub\_point}}
\index{ae\_point\_sub\_point@{ae\_point\_sub\_point}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_point\_sub\_point}{ae\_point\_sub\_point}}
{\footnotesize\ttfamily \#define ae\+\_\+point\+\_\+sub\+\_\+point(\begin{DoxyParamCaption}\item[{}]{p,  }\item[{}]{p1,  }\item[{}]{p2 }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        (p).x = (p1).x -\/ (p2).x;  \(\backslash\)}
\DoxyCodeLine{        (p).y = (p1).y -\/ (p2).y;                                \(\backslash\)}
\DoxyCodeLine{        (p).z = (p1).z -\/ (p2).z;                                \(\backslash\)}
\DoxyCodeLine{        (p).w = (p1).w -\/ (p2).w}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00109}{109}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a640ff0675ee6dc6d040bf5941be08258}\label{Almog__Engine_8h_a640ff0675ee6dc6d040bf5941be08258}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_points\_equal@{ae\_points\_equal}}
\index{ae\_points\_equal@{ae\_points\_equal}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_points\_equal}{ae\_points\_equal}}
{\footnotesize\ttfamily \#define ae\+\_\+points\+\_\+equal(\begin{DoxyParamCaption}\item[{}]{p1,  }\item[{}]{p2 }\end{DoxyParamCaption})~(p1).x == (p2).x \&\& (p1).y == (p2).y \&\& (p1).z == (p2).z}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00117}{117}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a7b30a109359f4a6a1e27161d8a2b8dd6}\label{Almog__Engine_8h_a7b30a109359f4a6a1e27161d8a2b8dd6}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!AE\_PRINT\_MESH@{AE\_PRINT\_MESH}}
\index{AE\_PRINT\_MESH@{AE\_PRINT\_MESH}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{AE\_PRINT\_MESH}{AE\_PRINT\_MESH}}
{\footnotesize\ttfamily \#define AE\+\_\+\+PRINT\+\_\+\+MESH(\begin{DoxyParamCaption}\item[{}]{mesh }\end{DoxyParamCaption})~\mbox{\hyperlink{Almog__Engine_8h_a4243299cc15f3c47c38f445a8e74f48e}{ae\+\_\+print\+\_\+tri\+\_\+mesh}}(mesh, \#mesh, 0)}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00267}{267}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a899e6cd6738dea0e52e5bbcb017a257e}\label{Almog__Engine_8h_a899e6cd6738dea0e52e5bbcb017a257e}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!AE\_PRINT\_TRI@{AE\_PRINT\_TRI}}
\index{AE\_PRINT\_TRI@{AE\_PRINT\_TRI}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{AE\_PRINT\_TRI}{AE\_PRINT\_TRI}}
{\footnotesize\ttfamily \#define AE\+\_\+\+PRINT\+\_\+\+TRI(\begin{DoxyParamCaption}\item[{}]{tri }\end{DoxyParamCaption})~\mbox{\hyperlink{Almog__Engine_8h_a1e9358707d11584816ff73dd09aa9882}{ae\+\_\+print\+\_\+tri}}(tri, \#tri, 0)}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00266}{266}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a6f18a8c8789c03cb3eb675357954917f}\label{Almog__Engine_8h_a6f18a8c8789c03cb3eb675357954917f}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ARGB\_hexARGB@{ARGB\_hexARGB}}
\index{ARGB\_hexARGB@{ARGB\_hexARGB}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ARGB\_hexARGB}{ARGB\_hexARGB}}
{\footnotesize\ttfamily \#define ARGB\+\_\+hex\+ARGB(\begin{DoxyParamCaption}\item[{}]{a,  }\item[{}]{r,  }\item[{}]{g,  }\item[{}]{b }\end{DoxyParamCaption})~0x01000000l$\ast$(uint8\+\_\+t)(a) + 0x00010000$\ast$(uint8\+\_\+t)(r) + 0x00000100$\ast$(uint8\+\_\+t)(g) + 0x00000001$\ast$(uint8\+\_\+t)(b)}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00083}{83}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a398bca11413e52815bbc275b2c797347}\label{Almog__Engine_8h_a398bca11413e52815bbc275b2c797347}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!QUAD\_MESH\_ARRAY@{QUAD\_MESH\_ARRAY}}
\index{QUAD\_MESH\_ARRAY@{QUAD\_MESH\_ARRAY}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{QUAD\_MESH\_ARRAY}{QUAD\_MESH\_ARRAY}}
{\footnotesize\ttfamily \#define QUAD\+\_\+\+MESH\+\_\+\+ARRAY}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00136}{136}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a45967694710f3c5c2924b7afff0e9775}\label{Almog__Engine_8h_a45967694710f3c5c2924b7afff0e9775}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!STL\_ATTRIBUTE\_BITS\_SIZE@{STL\_ATTRIBUTE\_BITS\_SIZE}}
\index{STL\_ATTRIBUTE\_BITS\_SIZE@{STL\_ATTRIBUTE\_BITS\_SIZE}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{STL\_ATTRIBUTE\_BITS\_SIZE}{STL\_ATTRIBUTE\_BITS\_SIZE}}
{\footnotesize\ttfamily \#define STL\+\_\+\+ATTRIBUTE\+\_\+\+BITS\+\_\+\+SIZE~2}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00071}{71}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a370cf2e354323ac710025b5c1e2c58ee}\label{Almog__Engine_8h_a370cf2e354323ac710025b5c1e2c58ee}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!STL\_HEADER\_SIZE@{STL\_HEADER\_SIZE}}
\index{STL\_HEADER\_SIZE@{STL\_HEADER\_SIZE}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{STL\_HEADER\_SIZE}{STL\_HEADER\_SIZE}}
{\footnotesize\ttfamily \#define STL\+\_\+\+HEADER\+\_\+\+SIZE~80}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00059}{59}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_adc4d38536e2dbc11bd68cda744bde13e}\label{Almog__Engine_8h_adc4d38536e2dbc11bd68cda744bde13e}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!STL\_NUM\_SIZE@{STL\_NUM\_SIZE}}
\index{STL\_NUM\_SIZE@{STL\_NUM\_SIZE}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{STL\_NUM\_SIZE}{STL\_NUM\_SIZE}}
{\footnotesize\ttfamily \#define STL\+\_\+\+NUM\+\_\+\+SIZE~4}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00063}{63}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_ad65703d595e8448cd1669cc21a2d8d16}\label{Almog__Engine_8h_ad65703d595e8448cd1669cc21a2d8d16}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!STL\_SIZE\_FOREACH\_TRI@{STL\_SIZE\_FOREACH\_TRI}}
\index{STL\_SIZE\_FOREACH\_TRI@{STL\_SIZE\_FOREACH\_TRI}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{STL\_SIZE\_FOREACH\_TRI}{STL\_SIZE\_FOREACH\_TRI}}
{\footnotesize\ttfamily \#define STL\+\_\+\+SIZE\+\_\+\+FOREACH\+\_\+\+TRI~50}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00067}{67}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.

\mbox{\Hypertarget{Almog__Engine_8h_a2296609e5a9e3c6015c56ccfebaaadc6}\label{Almog__Engine_8h_a2296609e5a9e3c6015c56ccfebaaadc6}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!TRI\_MESH\_ARRAY@{TRI\_MESH\_ARRAY}}
\index{TRI\_MESH\_ARRAY@{TRI\_MESH\_ARRAY}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{TRI\_MESH\_ARRAY}{TRI\_MESH\_ARRAY}}
{\footnotesize\ttfamily \#define TRI\+\_\+\+MESH\+\_\+\+ARRAY}



Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00127}{127}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}\label{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!Lighting\_mode@{Lighting\_mode}}
\index{Lighting\_mode@{Lighting\_mode}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{Lighting\_mode}{Lighting\_mode}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{AE\_LIGHTING\_FLAT@{AE\_LIGHTING\_FLAT}!Almog\_Engine.h@{Almog\_Engine.h}}\index{Almog\_Engine.h@{Almog\_Engine.h}!AE\_LIGHTING\_FLAT@{AE\_LIGHTING\_FLAT}}}\mbox{\Hypertarget{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501ad2872f5089e1989c79eaf9a2d83faceb}\label{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501ad2872f5089e1989c79eaf9a2d83faceb}} 
AE\+\_\+\+LIGHTING\+\_\+\+FLAT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AE\_LIGHTING\_SMOOTH@{AE\_LIGHTING\_SMOOTH}!Almog\_Engine.h@{Almog\_Engine.h}}\index{Almog\_Engine.h@{Almog\_Engine.h}!AE\_LIGHTING\_SMOOTH@{AE\_LIGHTING\_SMOOTH}}}\mbox{\Hypertarget{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501a960031a84842327b8c9061dc0f9752b6}\label{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501a960031a84842327b8c9061dc0f9752b6}} 
AE\+\_\+\+LIGHTING\+\_\+\+SMOOTH&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AE\_LIGHTING\_MODE\_LENGTH@{AE\_LIGHTING\_MODE\_LENGTH}!Almog\_Engine.h@{Almog\_Engine.h}}\index{Almog\_Engine.h@{Almog\_Engine.h}!AE\_LIGHTING\_MODE\_LENGTH@{AE\_LIGHTING\_MODE\_LENGTH}}}\mbox{\Hypertarget{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501ac75a3c6fda462283fc3d03e3167f7e73}\label{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501ac75a3c6fda462283fc3d03e3167f7e73}} 
AE\+\_\+\+LIGHTING\+\_\+\+MODE\+\_\+\+LENGTH&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00120}{120}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{Almog__Engine_8h_aee42720d506b69cc9c5b329e71140412}\label{Almog__Engine_8h_aee42720d506b69cc9c5b329e71140412}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_camera\_free@{ae\_camera\_free}}
\index{ae\_camera\_free@{ae\_camera\_free}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_camera\_free()}{ae\_camera\_free()}}
{\footnotesize\ttfamily void ae\+\_\+camera\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}



Free camera-\/related allocations in a \mbox{\hyperlink{structScene}{Scene}}. 

Frees all \mbox{\hyperlink{structMat2D}{Mat2D}} objects owned by scene-\/$>$camera (init\+\_\+position, current\+\_\+position, offset\+\_\+position, direction, camera\+\_\+x/y/z).


\begin{DoxyParams}{Parameters}
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} whose camera resources will be freed. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00366}{366}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00182}{Scene\+::camera}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00156}{Camera\+::camera\+\_\+x}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00157}{Camera\+::camera\+\_\+y}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00158}{Camera\+::camera\+\_\+z}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00146}{Camera\+::current\+\_\+position}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00148}{Camera\+::direction}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00145}{Camera\+::init\+\_\+position}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l00147}{Camera\+::offset\+\_\+position}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l00429}{ae\+\_\+scene\+\_\+free()}}.

\mbox{\Hypertarget{Almog__Engine_8h_acd168aacba26b933321f17d3fcd5d700}\label{Almog__Engine_8h_acd168aacba26b933321f17d3fcd5d700}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_camera\_init@{ae\_camera\_init}}
\index{ae\_camera\_init@{ae\_camera\_init}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_camera\_init()}{ae\_camera\_init()}}
{\footnotesize\ttfamily void ae\+\_\+camera\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene,  }\item[{int}]{window\+\_\+h,  }\item[{int}]{window\+\_\+w }\end{DoxyParamCaption})}



Initialize the camera part of a \mbox{\hyperlink{structScene}{Scene}}. 

Sets perspective parameters (z\+\_\+near, z\+\_\+far, fov, aspect\+\_\+ratio), allocates camera matrices/vectors, and sets initial position and orientation. The aspect ratio is computed as window\+\_\+h / window\+\_\+w.


\begin{DoxyParams}{Parameters}
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} whose camera will be initialized. \\
\hline
{\em window\+\_\+h} & Window height in pixels. \\
\hline
{\em window\+\_\+w} & Window width in pixels. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00320}{320}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00152}{Camera\+::aspect\+\_\+ratio}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00182}{Scene\+::camera}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00156}{Camera\+::camera\+\_\+x}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00157}{Camera\+::camera\+\_\+y}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00158}{Camera\+::camera\+\_\+z}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00146}{Camera\+::current\+\_\+position}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00148}{Camera\+::direction}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00151}{Camera\+::fov\+\_\+deg}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00145}{Camera\+::init\+\_\+position}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00768}{mat2\+D\+\_\+copy()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00147}{Camera\+::offset\+\_\+position}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00154}{Camera\+::pitch\+\_\+offset\+\_\+deg}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00153}{Camera\+::roll\+\_\+offset\+\_\+deg}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00155}{Camera\+::yaw\+\_\+offset\+\_\+deg}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00150}{Camera\+::z\+\_\+far}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l00149}{Camera\+::z\+\_\+near}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l00388}{ae\+\_\+scene\+\_\+init()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a83b3ed3c99a19cf592c1eebed7e09f9b}\label{Almog__Engine_8h_a83b3ed3c99a19cf592c1eebed7e09f9b}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_camera\_reset\_pos@{ae\_camera\_reset\_pos}}
\index{ae\_camera\_reset\_pos@{ae\_camera\_reset\_pos}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_camera\_reset\_pos()}{ae\_camera\_reset\_pos()}}
{\footnotesize\ttfamily void ae\+\_\+camera\+\_\+reset\+\_\+pos (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}



Reset camera orientation and position to initial state. 

Resets roll/pitch/yaw to zero, clears offset\+\_\+position, restores camera basis vectors to identity, and copies current\+\_\+position from init\+\_\+position.


\begin{DoxyParams}{Parameters}
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} containing the camera to reset. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00472}{472}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00182}{Scene\+::camera}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00156}{Camera\+::camera\+\_\+x}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00157}{Camera\+::camera\+\_\+y}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00158}{Camera\+::camera\+\_\+z}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00146}{Camera\+::current\+\_\+position}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00145}{Camera\+::init\+\_\+position}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00768}{mat2\+D\+\_\+copy()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00147}{Camera\+::offset\+\_\+position}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00154}{Camera\+::pitch\+\_\+offset\+\_\+deg}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00153}{Camera\+::roll\+\_\+offset\+\_\+deg}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l00155}{Camera\+::yaw\+\_\+offset\+\_\+deg}}.



Referenced by \mbox{\hyperlink{display_8c_source_l00186}{process\+\_\+input\+\_\+window()}}.

\mbox{\Hypertarget{Almog__Engine_8h_af7b851c934b815c8b57bac30b0b1cdae}\label{Almog__Engine_8h_af7b851c934b815c8b57bac30b0b1cdae}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_curve\_ada\_project\_world2screen@{ae\_curve\_ada\_project\_world2screen}}
\index{ae\_curve\_ada\_project\_world2screen@{ae\_curve\_ada\_project\_world2screen}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_curve\_ada\_project\_world2screen()}{ae\_curve\_ada\_project\_world2screen()}}
{\footnotesize\ttfamily void ae\+\_\+curve\+\_\+ada\+\_\+project\+\_\+world2screen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{proj\+\_\+mat,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structCurve__ada}{Curve\+\_\+ada}} $\ast$}]{des,  }\item[{\mbox{\hyperlink{structCurve__ada}{Curve\+\_\+ada}}}]{src,  }\item[{int}]{window\+\_\+w,  }\item[{int}]{window\+\_\+h,  }\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}



Project and clip an array of polylines from world to screen space. 

Applies ae\+\_\+curve\+\_\+project\+\_\+world2screen to each element in src and writes into the corresponding element in des. Arrays must be the same length.


\begin{DoxyParams}{Parameters}
{\em proj\+\_\+mat} & Projection matrix (4x4). \\
\hline
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em des} & Output array of curves (each overwritten). \\
\hline
{\em src} & Input array of world-\/space curves. \\
\hline
{\em window\+\_\+w} & Screen width in pixels. \\
\hline
{\em window\+\_\+h} & Screen height in pixels. \\
\hline
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} (camera for near plane). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03670}{3670}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l03558}{ae\+\_\+curve\+\_\+project\+\_\+world2screen()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00073}{Curve\+\_\+ada\+::elements}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00071}{Curve\+\_\+ada\+::length}}.

\mbox{\Hypertarget{Almog__Engine_8h_aac75dd9d298e655d12249edc154e7591}\label{Almog__Engine_8h_aac75dd9d298e655d12249edc154e7591}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_curve\_copy@{ae\_curve\_copy}}
\index{ae\_curve\_copy@{ae\_curve\_copy}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_curve\_copy()}{ae\_curve\_copy()}}
{\footnotesize\ttfamily void ae\+\_\+curve\+\_\+copy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structCurve}{Curve}} $\ast$}]{des,  }\item[{\mbox{\hyperlink{structCurve}{Curve}}}]{src }\end{DoxyParamCaption})}



Copy a \mbox{\hyperlink{structCurve}{Curve}} (ADA array of points). 

Clears destination length and appends all points from src.


\begin{DoxyParams}{Parameters}
{\em des} & Destination curve (modified/grown as needed). \\
\hline
{\em src} & Source curve. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01461}{1461}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00169}{ada\+\_\+appand}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00064}{Curve\+::elements}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00062}{Curve\+::length}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03558}{ae\+\_\+curve\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_aaa5131f30f9d6f1844a4422c548b4295}\label{Almog__Engine_8h_aaa5131f30f9d6f1844a4422c548b4295}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_curve\_project\_world2screen@{ae\_curve\_project\_world2screen}}
\index{ae\_curve\_project\_world2screen@{ae\_curve\_project\_world2screen}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_curve\_project\_world2screen()}{ae\_curve\_project\_world2screen()}}
{\footnotesize\ttfamily void ae\+\_\+curve\+\_\+project\+\_\+world2screen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{proj\+\_\+mat,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structCurve}{Curve}} $\ast$}]{des,  }\item[{\mbox{\hyperlink{structCurve}{Curve}}}]{src,  }\item[{int}]{window\+\_\+w,  }\item[{int}]{window\+\_\+h,  }\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}



Project and clip a polyline (\mbox{\hyperlink{structCurve}{Curve}}) from world to screen space. 

Projects each segment with near-\/plane clipping and screen-\/edge clipping. Segments fully outside are removed. The destination curve is overwritten.

\begin{DoxyNote}{Note}
This solution is not prefect. It sometimes delete one more edge then necessary, but I think that it won\textquotesingle{}t brake.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em proj\+\_\+mat} & Projection matrix (4x4). \\
\hline
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em des} & Output curve (overwritten; ADA array grown as needed). \\
\hline
{\em src} & Input world-\/space curve. \\
\hline
{\em window\+\_\+w} & Screen width in pixels. \\
\hline
{\em window\+\_\+h} & Screen height in pixels. \\
\hline
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} (camera for near plane). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03558}{3558}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00246}{ada\+\_\+remove}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01461}{ae\+\_\+curve\+\_\+copy()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01720}{ae\+\_\+line\+\_\+clip\+\_\+with\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02933}{ae\+\_\+line\+\_\+project\+\_\+world2screen()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00117}{ae\+\_\+points\+\_\+equal}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00064}{Curve\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00062}{Curve\+::length}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, and \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03670}{ae\+\_\+curve\+\_\+ada\+\_\+project\+\_\+world2screen()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l03691}{ae\+\_\+grid\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a01d0c3758b20d64c1cbbb2a73a1cdd6c}\label{Almog__Engine_8h_a01d0c3758b20d64c1cbbb2a73a1cdd6c}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_grid\_project\_world2screen@{ae\_grid\_project\_world2screen}}
\index{ae\_grid\_project\_world2screen@{ae\_grid\_project\_world2screen}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_grid\_project\_world2screen()}{ae\_grid\_project\_world2screen()}}
{\footnotesize\ttfamily void ae\+\_\+grid\+\_\+project\+\_\+world2screen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{proj\+\_\+mat,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structGrid}{Grid}}}]{des,  }\item[{\mbox{\hyperlink{structGrid}{Grid}}}]{src,  }\item[{int}]{window\+\_\+w,  }\item[{int}]{window\+\_\+h,  }\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}



Project and clip all polylines in a \mbox{\hyperlink{structGrid}{Grid}} from world to screen. 

Applies ae\+\_\+curve\+\_\+project\+\_\+world2screen to each curve in the grid.


\begin{DoxyParams}{Parameters}
{\em proj\+\_\+mat} & Projection matrix (4x4). \\
\hline
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em des} & Output grid (curves overwritten). \\
\hline
{\em src} & Input world-\/space grid. \\
\hline
{\em window\+\_\+w} & Screen width in pixels. \\
\hline
{\em window\+\_\+h} & Screen height in pixels. \\
\hline
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} (camera for near plane). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03691}{3691}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l03558}{ae\+\_\+curve\+\_\+project\+\_\+world2screen()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00140}{Grid\+::curves}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00073}{Curve\+\_\+ada\+::elements}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00071}{Curve\+\_\+ada\+::length}}.



Referenced by \mbox{\hyperlink{grid__example_8c_source_l00023}{update()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a16d1ee56f32a7e62f49bdee310d580c0}\label{Almog__Engine_8h_a16d1ee56f32a7e62f49bdee310d580c0}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_line\_clip\_with\_plane@{ae\_line\_clip\_with\_plane}}
\index{ae\_line\_clip\_with\_plane@{ae\_line\_clip\_with\_plane}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_line\_clip\_with\_plane()}{ae\_line\_clip\_with\_plane()}}
{\footnotesize\ttfamily int ae\+\_\+line\+\_\+clip\+\_\+with\+\_\+plane (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structPoint}{Point}}}]{start\+\_\+in,  }\item[{\mbox{\hyperlink{structPoint}{Point}}}]{end\+\_\+in,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{plane\+\_\+p,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{plane\+\_\+n,  }\item[{\mbox{\hyperlink{structPoint}{Point}} $\ast$}]{start\+\_\+out,  }\item[{\mbox{\hyperlink{structPoint}{Point}} $\ast$}]{end\+\_\+out }\end{DoxyParamCaption})}



Clip a line segment against a plane. 

Returns the portion of the line segment \mbox{[}start\+\_\+in, end\+\_\+in\mbox{]} that lies on or inside the plane (signed distance $>$= 0). plane\+\_\+n is normalized inside the function.


\begin{DoxyParams}{Parameters}
{\em start\+\_\+in} & Input start point (world or view space). \\
\hline
{\em end\+\_\+in} & Input end point. \\
\hline
{\em plane\+\_\+p} & Plane reference point (3x1). \\
\hline
{\em plane\+\_\+n} & Plane normal (3x1). \\
\hline
{\em start\+\_\+out} & Output clipped start point (if visible). \\
\hline
{\em end\+\_\+out} & Output clipped end point (if visible). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 if fully outside, 1 if fully or partially inside (outputs are valid), -\/1 on error. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01720}{1720}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00089}{ae\+\_\+assert\+\_\+point\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01680}{ae\+\_\+line\+\_\+itersect\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00498}{ae\+\_\+point\+\_\+to\+\_\+mat2\+D()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01807}{ae\+\_\+signed\+\_\+dist\+\_\+point\+\_\+and\+\_\+plane()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, and \mbox{\hyperlink{Matrix2D_8h_source_l00184}{mat2\+D\+\_\+normalize}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03558}{ae\+\_\+curve\+\_\+project\+\_\+world2screen()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l02933}{ae\+\_\+line\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a3fdac032dabf1b1b41cc4264ab5b3ed7}\label{Almog__Engine_8h_a3fdac032dabf1b1b41cc4264ab5b3ed7}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_line\_itersect\_plane@{ae\_line\_itersect\_plane}}
\index{ae\_line\_itersect\_plane@{ae\_line\_itersect\_plane}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_line\_itersect\_plane()}{ae\_line\_itersect\_plane()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structPoint}{Point}} ae\+\_\+line\+\_\+itersect\+\_\+plane (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{plane\+\_\+p,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{plane\+\_\+n,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{line\+\_\+start,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{line\+\_\+end,  }\item[{float $\ast$}]{t }\end{DoxyParamCaption})}



Intersect a line segment with a plane. 

Computes intersection of segment \mbox{[}line\+\_\+start, line\+\_\+end\mbox{]} with the plane defined by point plane\+\_\+p and normal plane\+\_\+n. plane\+\_\+n is normalized inside the function. The parameter t in \mbox{[}0, 1\mbox{]} is returned via out-\/parameter.

\begin{DoxyNote}{Note}
The \mbox{\hyperlink{structMat2D}{Mat2D}} objects line\+\_\+start and line\+\_\+end are temporarily modified internally; pass copies if you must preserve their values.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em plane\+\_\+p} & Plane reference point (3x1). \\
\hline
{\em plane\+\_\+n} & Plane normal (3x1). \\
\hline
{\em line\+\_\+start} & Segment start point (3x1). \\
\hline
{\em line\+\_\+end} & Segment end point (3x1). \\
\hline
{\em t} & Output parametric distance along the segment (0=start, 1=end). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structPoint}{Point}} Intersection point in 3D. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01680}{1680}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00522}{ae\+\_\+mat2\+D\+\_\+to\+\_\+point()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00496}{mat2\+D\+\_\+add()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00450}{mat2\+D\+\_\+dot\+\_\+product()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00557}{mat2\+D\+\_\+mult()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00184}{mat2\+D\+\_\+normalize}}, and \mbox{\hyperlink{Matrix2D_8h_source_l00527}{mat2\+D\+\_\+sub()}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01720}{ae\+\_\+line\+\_\+clip\+\_\+with\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02181}{ae\+\_\+quad\+\_\+clip\+\_\+with\+\_\+plane()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l01838}{ae\+\_\+tri\+\_\+clip\+\_\+with\+\_\+plane()}}.

\mbox{\Hypertarget{Almog__Engine_8h_ae7ed56cd28c920fcd190a3d8ff3e0283}\label{Almog__Engine_8h_ae7ed56cd28c920fcd190a3d8ff3e0283}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_line\_project\_world2screen@{ae\_line\_project\_world2screen}}
\index{ae\_line\_project\_world2screen@{ae\_line\_project\_world2screen}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_line\_project\_world2screen()}{ae\_line\_project\_world2screen()}}
{\footnotesize\ttfamily void ae\+\_\+line\+\_\+project\+\_\+world2screen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{proj\+\_\+mat,  }\item[{\mbox{\hyperlink{structPoint}{Point}}}]{start\+\_\+src,  }\item[{\mbox{\hyperlink{structPoint}{Point}}}]{end\+\_\+src,  }\item[{int}]{window\+\_\+w,  }\item[{int}]{window\+\_\+h,  }\item[{\mbox{\hyperlink{structPoint}{Point}} $\ast$}]{start\+\_\+des,  }\item[{\mbox{\hyperlink{structPoint}{Point}} $\ast$}]{end\+\_\+des,  }\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}



Project and near-\/clip a world-\/space line segment to screen space. 

Transforms the segment to view space, clips it against the near plane at z = z\+\_\+near + 0.\+01, then projects to screen space. If fully clipped, both outputs are set to the sentinel (-\/1, -\/1, 1, 1).


\begin{DoxyParams}{Parameters}
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em proj\+\_\+mat} & Projection matrix (4x4). \\
\hline
{\em start\+\_\+src} & World-\/space start point. \\
\hline
{\em end\+\_\+src} & World-\/space end point. \\
\hline
{\em window\+\_\+w} & Screen width in pixels. \\
\hline
{\em window\+\_\+h} & Screen height in pixels. \\
\hline
{\em start\+\_\+des} & Output screen-\/space start point (or sentinel). \\
\hline
{\em end\+\_\+des} & Output screen-\/space end point (or sentinel). \\
\hline
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} (used for near plane distance). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l02933}{2933}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l01720}{ae\+\_\+line\+\_\+clip\+\_\+with\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02870}{ae\+\_\+point\+\_\+project\+\_\+view2screen()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02824}{ae\+\_\+point\+\_\+project\+\_\+world2view()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00182}{Scene\+::camera}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l00149}{Camera\+::z\+\_\+near}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03558}{ae\+\_\+curve\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_adfbb375cedddf064ca503a0520c66829}\label{Almog__Engine_8h_adfbb375cedddf064ca503a0520c66829}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_linear\_map@{ae\_linear\_map}}
\index{ae\_linear\_map@{ae\_linear\_map}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_linear\_map()}{ae\_linear\_map()}}
{\footnotesize\ttfamily double ae\+\_\+linear\+\_\+map (\begin{DoxyParamCaption}\item[{double}]{s,  }\item[{double}]{min\+\_\+in,  }\item[{double}]{max\+\_\+in,  }\item[{double}]{min\+\_\+out,  }\item[{double}]{max\+\_\+out }\end{DoxyParamCaption})}



Linearly map a scalar from one range to another. 

Computes min\+\_\+out + (s -\/ min\+\_\+in) $\ast$ (max\+\_\+out -\/ min\+\_\+out) / (max\+\_\+in -\/ min\+\_\+in).


\begin{DoxyParams}{Parameters}
{\em s} & Input scalar. \\
\hline
{\em min\+\_\+in} & Input range minimum. \\
\hline
{\em max\+\_\+in} & Input range maximum. \\
\hline
{\em min\+\_\+out} & Output range minimum. \\
\hline
{\em max\+\_\+out} & Output range maximum. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double Mapped scalar. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03770}{3770}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03785}{ae\+\_\+z\+\_\+buffer\+\_\+copy\+\_\+to\+\_\+screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_af02975c063e1ea909c3bbc94210ea85f}\label{Almog__Engine_8h_af02975c063e1ea909c3bbc94210ea85f}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_mat2D\_to\_point@{ae\_mat2D\_to\_point}}
\index{ae\_mat2D\_to\_point@{ae\_mat2D\_to\_point}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_mat2D\_to\_point()}{ae\_mat2D\_to\_point()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structPoint}{Point}} ae\+\_\+mat2\+D\+\_\+to\+\_\+point (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{m }\end{DoxyParamCaption})}



Read a 3x1 \mbox{\hyperlink{structMat2D}{Mat2D}} vector into a \mbox{\hyperlink{structPoint}{Point}}. 

Reads x, y, z from m(0..2,0) and returns a \mbox{\hyperlink{structPoint}{Point}} with w=1.


\begin{DoxyParams}{Parameters}
{\em m} & Source matrix (3x1). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structPoint}{Point}} The corresponding point with w=1. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00522}{522}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01680}{ae\+\_\+line\+\_\+itersect\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01580}{ae\+\_\+quad\+\_\+calc\+\_\+light\+\_\+intensity()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01336}{ae\+\_\+quad\+\_\+set\+\_\+normals()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01487}{ae\+\_\+tri\+\_\+calc\+\_\+light\+\_\+intensity()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l00998}{ae\+\_\+tri\+\_\+set\+\_\+normals()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a97027681fd682ebb13f18d00a188a9b1}\label{Almog__Engine_8h_a97027681fd682ebb13f18d00a188a9b1}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_point\_normalize\_xyz@{ae\_point\_normalize\_xyz}}
\index{ae\_point\_normalize\_xyz@{ae\_point\_normalize\_xyz}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_point\_normalize\_xyz()}{ae\_point\_normalize\_xyz()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structPoint}{Point}} ae\+\_\+point\+\_\+normalize\+\_\+xyz (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structPoint}{Point}}}]{p }\end{DoxyParamCaption})}



Normalize a point\textquotesingle{}s xyz to unit length. 

Divides x, y, z by their Euclidean norm. w is preserved unchanged.


\begin{DoxyParams}{Parameters}
{\em p} & Input point. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structPoint}{Point}} Unit-\/length point (xyz), with original w. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00976}{976}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00104}{ae\+\_\+point\+\_\+calc\+\_\+norma}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01580}{ae\+\_\+quad\+\_\+calc\+\_\+light\+\_\+intensity()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01379}{ae\+\_\+quad\+\_\+get\+\_\+average\+\_\+normal()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00388}{ae\+\_\+scene\+\_\+init()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01487}{ae\+\_\+tri\+\_\+calc\+\_\+light\+\_\+intensity()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l01041}{ae\+\_\+tri\+\_\+get\+\_\+average\+\_\+normal()}}.

\mbox{\Hypertarget{Almog__Engine_8h_ae10d1bf00c014c797936ebea24b4e81a}\label{Almog__Engine_8h_ae10d1bf00c014c797936ebea24b4e81a}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_point\_project\_view2screen@{ae\_point\_project\_view2screen}}
\index{ae\_point\_project\_view2screen@{ae\_point\_project\_view2screen}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_point\_project\_view2screen()}{ae\_point\_project\_view2screen()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structPoint}{Point}} ae\+\_\+point\+\_\+project\+\_\+view2screen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{proj\+\_\+mat,  }\item[{\mbox{\hyperlink{structPoint}{Point}}}]{src,  }\item[{int}]{window\+\_\+w,  }\item[{int}]{window\+\_\+h }\end{DoxyParamCaption})}



Project a view-\/space point to screen space. 

Applies the projection matrix, performs perspective divide if $\vert$w$\vert$ $>$ 1e-\/3, maps normalized device coords to pixel coordinates\+: x\+\_\+screen = (x\+\_\+ndc + 1) $\ast$ 0.\+5 $\ast$ window\+\_\+w y\+\_\+screen = (y\+\_\+ndc + 1) $\ast$ 0.\+5 $\ast$ window\+\_\+h

z is z\+\_\+ndc, w is the clip-\/space w (or 1 if the original w $\sim$ 0).


\begin{DoxyParams}{Parameters}
{\em proj\+\_\+mat} & Projection matrix (4x4). \\
\hline
{\em src} & View-\/space point. \\
\hline
{\em window\+\_\+w} & Screen width in pixels. \\
\hline
{\em window\+\_\+h} & Screen height in pixels. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structPoint}{Point}} Screen-\/space point. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l02870}{2870}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00089}{ae\+\_\+assert\+\_\+point\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00424}{mat2\+D\+\_\+dot()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l02933}{ae\+\_\+line\+\_\+project\+\_\+world2screen()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02806}{ae\+\_\+point\+\_\+project\+\_\+world2screen()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l03321}{ae\+\_\+quad\+\_\+project\+\_\+world2screen()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l03038}{ae\+\_\+tri\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a45d3a5d37afa1cc50d2920d8684a5efc}\label{Almog__Engine_8h_a45d3a5d37afa1cc50d2920d8684a5efc}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_point\_project\_world2screen@{ae\_point\_project\_world2screen}}
\index{ae\_point\_project\_world2screen@{ae\_point\_project\_world2screen}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_point\_project\_world2screen()}{ae\_point\_project\_world2screen()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structPoint}{Point}} ae\+\_\+point\+\_\+project\+\_\+world2screen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{proj\+\_\+mat,  }\item[{\mbox{\hyperlink{structPoint}{Point}}}]{src,  }\item[{int}]{window\+\_\+w,  }\item[{int}]{window\+\_\+h }\end{DoxyParamCaption})}



Project a point from world space directly to screen space. 

Combines ae\+\_\+point\+\_\+project\+\_\+world2view and ae\+\_\+point\+\_\+project\+\_\+view2screen.


\begin{DoxyParams}{Parameters}
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em proj\+\_\+mat} & Projection matrix (4x4). \\
\hline
{\em src} & World-\/space point. \\
\hline
{\em window\+\_\+w} & Screen width in pixels. \\
\hline
{\em window\+\_\+h} & Screen height in pixels. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structPoint}{Point}} Screen-\/space point (x,y in pixels). z is post-\/projection z/w, w is clip-\/space w. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l02806}{2806}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l02870}{ae\+\_\+point\+\_\+project\+\_\+view2screen()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l02824}{ae\+\_\+point\+\_\+project\+\_\+world2view()}}.

\mbox{\Hypertarget{Almog__Engine_8h_ad43833aa381862dba7a1e91e81260103}\label{Almog__Engine_8h_ad43833aa381862dba7a1e91e81260103}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_point\_project\_world2view@{ae\_point\_project\_world2view}}
\index{ae\_point\_project\_world2view@{ae\_point\_project\_world2view}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_point\_project\_world2view()}{ae\_point\_project\_world2view()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structPoint}{Point}} ae\+\_\+point\+\_\+project\+\_\+world2view (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structPoint}{Point}}}]{src }\end{DoxyParamCaption})}



Transform a point from world space to view space. 

Multiplies \mbox{[}x y z 1\mbox{]} by view\+\_\+mat (row-\/vector convention in this code). Returns the resulting view-\/space point; w should be 1.


\begin{DoxyParams}{Parameters}
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em src} & World-\/space point. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structPoint}{Point}} View-\/space point (w=1). 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l02824}{2824}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00044}{AE\+\_\+\+ASSERT}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00089}{ae\+\_\+assert\+\_\+point\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00424}{mat2\+D\+\_\+dot()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l02933}{ae\+\_\+line\+\_\+project\+\_\+world2screen()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l02806}{ae\+\_\+point\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a35a66ba0fbf0ed95b863ecde0962a496}\label{Almog__Engine_8h_a35a66ba0fbf0ed95b863ecde0962a496}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_point\_to\_mat2D@{ae\_point\_to\_mat2D}}
\index{ae\_point\_to\_mat2D@{ae\_point\_to\_mat2D}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_point\_to\_mat2D()}{ae\_point\_to\_mat2D()}}
{\footnotesize\ttfamily void ae\+\_\+point\+\_\+to\+\_\+mat2D (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structPoint}{Point}}}]{p,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{m }\end{DoxyParamCaption})}



Write a \mbox{\hyperlink{structPoint}{Point}} into a \mbox{\hyperlink{structMat2D}{Mat2D}} vector. 

Writes p into m. m must be either 3x1 or 1x3. Only x, y, z are written.


\begin{DoxyParams}{Parameters}
{\em p} & Source point (x, y, z used; w ignored). \\
\hline
{\em m} & Destination matrix (3x1 or 1x3). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00498}{498}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Matrix2D_8h_source_l00083}{Mat2\+D\+::cols}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00068}{MATRIX2\+D\+\_\+\+ASSERT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00082}{Mat2\+D\+::rows}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01720}{ae\+\_\+line\+\_\+clip\+\_\+with\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01428}{ae\+\_\+quad\+\_\+calc\+\_\+normal()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02181}{ae\+\_\+quad\+\_\+clip\+\_\+with\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l03321}{ae\+\_\+quad\+\_\+project\+\_\+world2screen()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01336}{ae\+\_\+quad\+\_\+set\+\_\+normals()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01086}{ae\+\_\+tri\+\_\+calc\+\_\+normal()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01838}{ae\+\_\+tri\+\_\+clip\+\_\+with\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l03038}{ae\+\_\+tri\+\_\+project\+\_\+world2screen()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l00998}{ae\+\_\+tri\+\_\+set\+\_\+normals()}}.

\mbox{\Hypertarget{Almog__Engine_8h_ad22d3f1e0cac0fc8d19398b0d43dbfc7}\label{Almog__Engine_8h_ad22d3f1e0cac0fc8d19398b0d43dbfc7}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_print\_points@{ae\_print\_points}}
\index{ae\_print\_points@{ae\_print\_points}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_print\_points()}{ae\_print\_points()}}
{\footnotesize\ttfamily void ae\+\_\+print\+\_\+points (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structCurve}{Curve}}}]{p }\end{DoxyParamCaption})}



Print a list of points to stdout. 

Each point is printed as\+: \char`\"{}point i\+: (x, y, z)\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em p} & \mbox{\hyperlink{structCurve}{Curve}} of points to print. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00925}{925}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00064}{Curve\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00062}{Curve\+::length}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.

\mbox{\Hypertarget{Almog__Engine_8h_a1e9358707d11584816ff73dd09aa9882}\label{Almog__Engine_8h_a1e9358707d11584816ff73dd09aa9882}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_print\_tri@{ae\_print\_tri}}
\index{ae\_print\_tri@{ae\_print\_tri}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_print\_tri()}{ae\_print\_tri()}}
{\footnotesize\ttfamily void ae\+\_\+print\+\_\+tri (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri}{Tri}}}]{tri,  }\item[{char $\ast$}]{name,  }\item[{size\+\_\+t}]{padding }\end{DoxyParamCaption})}



Print a triangle to stdout. 

Prints the triangle\textquotesingle{}s vertices and draw flag, with an optional name and indentation padding (spaces).


\begin{DoxyParams}{Parameters}
{\em tri} & Triangle to print. \\
\hline
{\em name} & Label to print before the triangle. \\
\hline
{\em padding} & Number of leading spaces for indentation. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00942}{942}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00084}{Tri\+::to\+\_\+draw}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l00958}{ae\+\_\+print\+\_\+tri\+\_\+mesh()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a4243299cc15f3c47c38f445a8e74f48e}\label{Almog__Engine_8h_a4243299cc15f3c47c38f445a8e74f48e}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_print\_tri\_mesh@{ae\_print\_tri\_mesh}}
\index{ae\_print\_tri\_mesh@{ae\_print\_tri\_mesh}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_print\_tri\_mesh()}{ae\_print\_tri\_mesh()}}
{\footnotesize\ttfamily void ae\+\_\+print\+\_\+tri\+\_\+mesh (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}}}]{mesh,  }\item[{char $\ast$}]{name,  }\item[{size\+\_\+t}]{padding }\end{DoxyParamCaption})}



Print all triangles in a mesh to stdout. 

Each triangle is printed via ae\+\_\+print\+\_\+tri with the given padding.


\begin{DoxyParams}{Parameters}
{\em mesh} & Triangle mesh to print. \\
\hline
{\em name} & Label for the mesh. \\
\hline
{\em padding} & Number of leading spaces for indentation. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00958}{958}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00942}{ae\+\_\+print\+\_\+tri()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00105}{Tri\+\_\+mesh\+::elements}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00103}{Tri\+\_\+mesh\+::length}}.

\mbox{\Hypertarget{Almog__Engine_8h_a1b7def01c3bfc991682cdd645b806672}\label{Almog__Engine_8h_a1b7def01c3bfc991682cdd645b806672}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_projection\_mat\_set@{ae\_projection\_mat\_set}}
\index{ae\_projection\_mat\_set@{ae\_projection\_mat\_set}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_projection\_mat\_set()}{ae\_projection\_mat\_set()}}
{\footnotesize\ttfamily void ae\+\_\+projection\+\_\+mat\+\_\+set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{proj\+\_\+mat,  }\item[{float}]{aspect\+\_\+ratio,  }\item[{float}]{FOV\+\_\+deg,  }\item[{float}]{z\+\_\+near,  }\item[{float}]{z\+\_\+far }\end{DoxyParamCaption})}



Build a perspective projection matrix. 

proj\+\_\+mat must be 4x4. FOV is in degrees. The matrix maps view-\/space to clip space consistent with the engine\textquotesingle{}s pipeline; z is mapped using z\+\_\+far/(z\+\_\+far -\/ z\+\_\+near).


\begin{DoxyParams}{Parameters}
{\em proj\+\_\+mat} & Output 4x4 projection matrix. \\
\hline
{\em aspect\+\_\+ratio} & aspect = window\+\_\+h / window\+\_\+w. \\
\hline
{\em FOV\+\_\+deg} & Vertical field of view in degrees (must be $>$ 0). \\
\hline
{\em z\+\_\+near} & Near clipping plane distance ($>$ 0). \\
\hline
{\em z\+\_\+far} & Far clipping plane distance ($>$ z\+\_\+near). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l02682}{2682}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00044}{AE\+\_\+\+ASSERT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00083}{Mat2\+D\+::cols}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00154}{PI}}, and \mbox{\hyperlink{Matrix2D_8h_source_l00082}{Mat2\+D\+::rows}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l00388}{ae\+\_\+scene\+\_\+init()}}, and \mbox{\hyperlink{grid__example_8c_source_l00023}{update()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a36c108042b6ed289b4d0f85f8c5700ee}\label{Almog__Engine_8h_a36c108042b6ed289b4d0f85f8c5700ee}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_quad\_calc\_light\_intensity@{ae\_quad\_calc\_light\_intensity}}
\index{ae\_quad\_calc\_light\_intensity@{ae\_quad\_calc\_light\_intensity}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_quad\_calc\_light\_intensity()}{ae\_quad\_calc\_light\_intensity()}}
{\footnotesize\ttfamily void ae\+\_\+quad\+\_\+calc\+\_\+light\+\_\+intensity (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structQuad}{Quad}} $\ast$}]{quad,  }\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene,  }\item[{\mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}}}]{lighting\+\_\+mode }\end{DoxyParamCaption})}



Compute per-\/vertex lighting intensity for a quad. 

Same model as ae\+\_\+tri\+\_\+calc\+\_\+light\+\_\+intensity, applied to four vertices. Results are clamped to \mbox{[}0, 1\mbox{]}.


\begin{DoxyParams}{Parameters}
{\em quad} & \mbox{\hyperlink{structQuad}{Quad}} to update (quad-\/$>$light\+\_\+intensity\mbox{[}i\mbox{]} is written). \\
\hline
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} providing light and material parameters. \\
\hline
{\em lighting\+\_\+mode} & Flat or smooth lighting mode. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01580}{1580}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00121}{AE\+\_\+\+LIGHTING\+\_\+\+FLAT}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00122}{AE\+\_\+\+LIGHTING\+\_\+\+SMOOTH}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00522}{ae\+\_\+mat2\+D\+\_\+to\+\_\+point()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00105}{ae\+\_\+point\+\_\+add\+\_\+point}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00113}{ae\+\_\+point\+\_\+dot\+\_\+point}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00114}{ae\+\_\+point\+\_\+mult}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00976}{ae\+\_\+point\+\_\+normalize\+\_\+xyz()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00109}{ae\+\_\+point\+\_\+sub\+\_\+point}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01379}{ae\+\_\+quad\+\_\+get\+\_\+average\+\_\+normal()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01403}{ae\+\_\+quad\+\_\+get\+\_\+average\+\_\+point()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00168}{Material\+::c\+\_\+ambi}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00169}{Material\+::c\+\_\+diff}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00170}{Material\+::c\+\_\+spec}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00182}{Scene\+::camera}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00146}{Camera\+::current\+\_\+position}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00162}{Light\+\_\+source\+::light\+\_\+direction\+\_\+or\+\_\+pos}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00096}{Quad\+::light\+\_\+intensity}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00163}{Light\+\_\+source\+::light\+\_\+intensity}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00187}{Scene\+::light\+\_\+source0}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00188}{Scene\+::material0}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00093}{Quad\+::normals}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00092}{Quad\+::points}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00167}{Material\+::specular\+\_\+power\+\_\+alpha}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03321}{ae\+\_\+quad\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_af54cb5c301bedf21f37ed3fdaf7287b5}\label{Almog__Engine_8h_af54cb5c301bedf21f37ed3fdaf7287b5}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_quad\_calc\_normal@{ae\_quad\_calc\_normal}}
\index{ae\_quad\_calc\_normal@{ae\_quad\_calc\_normal}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_quad\_calc\_normal()}{ae\_quad\_calc\_normal()}}
{\footnotesize\ttfamily void ae\+\_\+quad\+\_\+calc\+\_\+normal (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{normal,  }\item[{\mbox{\hyperlink{structQuad}{Quad}}}]{quad }\end{DoxyParamCaption})}



Compute the face normal of a quad using the first three vertices. 

normal must be a 3x1 vector. The function writes the normalized cross product of (p1 -\/ p0) x (p2 -\/ p0) into normal.


\begin{DoxyParams}{Parameters}
{\em normal} & Output 3x1 vector for the face normal. \\
\hline
{\em quad} & Input quad. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01428}{1428}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00044}{AE\+\_\+\+ASSERT}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00097}{ae\+\_\+assert\+\_\+quad\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00498}{ae\+\_\+point\+\_\+to\+\_\+mat2\+D()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00083}{Mat2\+D\+::cols}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00931}{mat2\+D\+\_\+calc\+\_\+norma()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00479}{mat2\+D\+\_\+cross()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00557}{mat2\+D\+\_\+mult()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00527}{mat2\+D\+\_\+sub()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00092}{Quad\+::points}}, and \mbox{\hyperlink{Matrix2D_8h_source_l00082}{Mat2\+D\+::rows}}.

\mbox{\Hypertarget{Almog__Engine_8h_aff9453f6f1fde30f7752ac03fd49aebb}\label{Almog__Engine_8h_aff9453f6f1fde30f7752ac03fd49aebb}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_quad\_clip\_with\_plane@{ae\_quad\_clip\_with\_plane}}
\index{ae\_quad\_clip\_with\_plane@{ae\_quad\_clip\_with\_plane}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_quad\_clip\_with\_plane()}{ae\_quad\_clip\_with\_plane()}}
{\footnotesize\ttfamily int ae\+\_\+quad\+\_\+clip\+\_\+with\+\_\+plane (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structQuad}{Quad}}}]{quad\+\_\+in,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{plane\+\_\+p,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{plane\+\_\+n,  }\item[{\mbox{\hyperlink{structQuad}{Quad}} $\ast$}]{quad\+\_\+out1,  }\item[{\mbox{\hyperlink{structQuad}{Quad}} $\ast$}]{quad\+\_\+out2 }\end{DoxyParamCaption})}



Clip a quad against a plane. 

Splits or discards the quad quad\+\_\+in against the plane defined by (plane\+\_\+p, plane\+\_\+n). plane\+\_\+n is normalized inside the function.


\begin{DoxyParams}{Parameters}
{\em quad\+\_\+in} & Input quad. \\
\hline
{\em plane\+\_\+p} & Plane reference point (3x1). \\
\hline
{\em plane\+\_\+n} & Plane normal (3x1). \\
\hline
{\em quad\+\_\+out1} & First output quad (if any). When output count is 2, this holds one of the resulting polygons (possibly as a quad composed from intersections). \\
\hline
{\em quad\+\_\+out2} & Second output quad (if split). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Number of output polygons\+: 0 (culled), 1, or 2. Returns -\/1 on error. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l02181}{2181}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00097}{ae\+\_\+assert\+\_\+quad\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01680}{ae\+\_\+line\+\_\+itersect\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00498}{ae\+\_\+point\+\_\+to\+\_\+mat2\+D()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01807}{ae\+\_\+signed\+\_\+dist\+\_\+point\+\_\+and\+\_\+plane()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00094}{Quad\+::colors}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00184}{mat2\+D\+\_\+normalize}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00092}{Quad\+::points}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03434}{ae\+\_\+quad\+\_\+mesh\+\_\+project\+\_\+world2screen()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l03321}{ae\+\_\+quad\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a13940b94d775b4887b34e03ffff9661e}\label{Almog__Engine_8h_a13940b94d775b4887b34e03ffff9661e}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_quad\_get\_average\_normal@{ae\_quad\_get\_average\_normal}}
\index{ae\_quad\_get\_average\_normal@{ae\_quad\_get\_average\_normal}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_quad\_get\_average\_normal()}{ae\_quad\_get\_average\_normal()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structPoint}{Point}} ae\+\_\+quad\+\_\+get\+\_\+average\+\_\+normal (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structQuad}{Quad}}}]{quad }\end{DoxyParamCaption})}



Compute the average of the four vertex normals of a quad. 

Averages the four vertex normals and normalizes the result.


\begin{DoxyParams}{Parameters}
{\em quad} & Input quad. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structPoint}{Point}} The averaged, normalized normal. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01379}{1379}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00976}{ae\+\_\+point\+\_\+normalize\+\_\+xyz()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00093}{Quad\+::normals}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01580}{ae\+\_\+quad\+\_\+calc\+\_\+light\+\_\+intensity()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l03321}{ae\+\_\+quad\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_ad1f69bc7c34ba800623bdc3e693a2bcb}\label{Almog__Engine_8h_ad1f69bc7c34ba800623bdc3e693a2bcb}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_quad\_get\_average\_point@{ae\_quad\_get\_average\_point}}
\index{ae\_quad\_get\_average\_point@{ae\_quad\_get\_average\_point}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_quad\_get\_average\_point()}{ae\_quad\_get\_average\_point()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structPoint}{Point}} ae\+\_\+quad\+\_\+get\+\_\+average\+\_\+point (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structQuad}{Quad}}}]{quad }\end{DoxyParamCaption})}



Compute the average of the four vertices of a quad. 


\begin{DoxyParams}{Parameters}
{\em quad} & Input quad. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structPoint}{Point}} The average point (x, y, z, w are simple averages). 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01403}{1403}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00092}{Quad\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01580}{ae\+\_\+quad\+\_\+calc\+\_\+light\+\_\+intensity()}}.

\mbox{\Hypertarget{Almog__Engine_8h_ad7415d7fdf579c8f89a5279953c1cc0f}\label{Almog__Engine_8h_ad7415d7fdf579c8f89a5279953c1cc0f}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_quad\_mesh\_project\_world2screen@{ae\_quad\_mesh\_project\_world2screen}}
\index{ae\_quad\_mesh\_project\_world2screen@{ae\_quad\_mesh\_project\_world2screen}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_quad\_mesh\_project\_world2screen()}{ae\_quad\_mesh\_project\_world2screen()}}
{\footnotesize\ttfamily void ae\+\_\+quad\+\_\+mesh\+\_\+project\+\_\+world2screen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{proj\+\_\+mat,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structQuad__mesh}{Quad\+\_\+mesh}} $\ast$}]{des,  }\item[{\mbox{\hyperlink{structQuad__mesh}{Quad\+\_\+mesh}}}]{src,  }\item[{int}]{window\+\_\+w,  }\item[{int}]{window\+\_\+h,  }\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene,  }\item[{\mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}}}]{lighting\+\_\+mode }\end{DoxyParamCaption})}



Project a quad mesh from world to screen space with clipping. 

Iterates over all quads, applies near-\/plane and screen-\/edge clipping, and writes results into des. Quads can be split by clipping, so des may end up with more elements than src.


\begin{DoxyParams}{Parameters}
{\em proj\+\_\+mat} & Projection matrix (4x4). \\
\hline
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em des} & Output mesh (cleared and filled; ADA array grown as needed). \\
\hline
{\em src} & Input world-\/space quad mesh. \\
\hline
{\em window\+\_\+w} & Screen width in pixels. \\
\hline
{\em window\+\_\+h} & Screen height in pixels. \\
\hline
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} (camera/light/material). \\
\hline
{\em lighting\+\_\+mode} & Flat or smooth lighting mode. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03434}{3434}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00169}{ada\+\_\+appand}}, \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00222}{ada\+\_\+insert\+\_\+unordered}}, \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00267}{ada\+\_\+remove\+\_\+unordered}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00097}{ae\+\_\+assert\+\_\+quad\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02181}{ae\+\_\+quad\+\_\+clip\+\_\+with\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l03321}{ae\+\_\+quad\+\_\+project\+\_\+world2screen()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00114}{Quad\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00112}{Quad\+\_\+mesh\+::length}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, and \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a328b8b2bb3e397b7d36e72669671868e}\label{Almog__Engine_8h_a328b8b2bb3e397b7d36e72669671868e}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_quad\_project\_world2screen@{ae\_quad\_project\_world2screen}}
\index{ae\_quad\_project\_world2screen@{ae\_quad\_project\_world2screen}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_quad\_project\_world2screen()}{ae\_quad\_project\_world2screen()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structQuad__mesh}{Quad\+\_\+mesh}} ae\+\_\+quad\+\_\+project\+\_\+world2screen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{proj\+\_\+mat,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structQuad}{Quad}}}]{quad,  }\item[{int}]{window\+\_\+w,  }\item[{int}]{window\+\_\+h,  }\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene,  }\item[{\mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}}}]{lighting\+\_\+mode }\end{DoxyParamCaption})}



Project a single world-\/space quad to screen space with clipping. 

Computes lighting and visibility, transforms to view space, clips against near plane, and projects to screen space. A quad may produce one or two quads after clipping.


\begin{DoxyParams}{Parameters}
{\em proj\+\_\+mat} & Projection matrix (4x4). \\
\hline
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em quad} & World-\/space quad. \\
\hline
{\em window\+\_\+w} & Screen width in pixels. \\
\hline
{\em window\+\_\+h} & Screen height in pixels. \\
\hline
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} (camera/light/material). \\
\hline
{\em lighting\+\_\+mode} & Flat or smooth lighting mode. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structQuad__mesh}{Quad\+\_\+mesh}} An ADA array of resulting screen-\/space quads. Caller must free result.\+elements. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03321}{3321}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00169}{ada\+\_\+appand}}, \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00120}{ada\+\_\+init\+\_\+array}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00097}{ae\+\_\+assert\+\_\+quad\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02870}{ae\+\_\+point\+\_\+project\+\_\+view2screen()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00498}{ae\+\_\+point\+\_\+to\+\_\+mat2\+D()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01580}{ae\+\_\+quad\+\_\+calc\+\_\+light\+\_\+intensity()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02181}{ae\+\_\+quad\+\_\+clip\+\_\+with\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01379}{ae\+\_\+quad\+\_\+get\+\_\+average\+\_\+normal()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l03271}{ae\+\_\+quad\+\_\+transform\+\_\+to\+\_\+view()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00182}{Scene\+::camera}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00146}{Camera\+::current\+\_\+position}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00114}{Quad\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00112}{Quad\+\_\+mesh\+::length}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00162}{Light\+\_\+source\+::light\+\_\+direction\+\_\+or\+\_\+pos}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00096}{Quad\+::light\+\_\+intensity}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00187}{Scene\+::light\+\_\+source0}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00527}{mat2\+D\+\_\+sub()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00093}{Quad\+::normals}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00092}{Quad\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00095}{Quad\+::to\+\_\+draw}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l00149}{Camera\+::z\+\_\+near}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03434}{ae\+\_\+quad\+\_\+mesh\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_ae7bccc35b4caefa9f167e3267813e921}\label{Almog__Engine_8h_ae7bccc35b4caefa9f167e3267813e921}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_quad\_set\_normals@{ae\_quad\_set\_normals}}
\index{ae\_quad\_set\_normals@{ae\_quad\_set\_normals}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_quad\_set\_normals()}{ae\_quad\_set\_normals()}}
{\footnotesize\ttfamily void ae\+\_\+quad\+\_\+set\+\_\+normals (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structQuad}{Quad}} $\ast$}]{quad }\end{DoxyParamCaption})}



Compute and set per-\/vertex normals for a quad. 

For each vertex, computes the cross product of adjacent edges and normalizes the result. Results are stored in quad-\/$>$normals\mbox{[}i\mbox{]}.


\begin{DoxyParams}{Parameters}
{\em quad} & \mbox{\hyperlink{structQuad}{Quad}} whose normals will be computed and written. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01336}{1336}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00097}{ae\+\_\+assert\+\_\+quad\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00522}{ae\+\_\+mat2\+D\+\_\+to\+\_\+point()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00498}{ae\+\_\+point\+\_\+to\+\_\+mat2\+D()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00768}{mat2\+D\+\_\+copy()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00479}{mat2\+D\+\_\+cross()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00184}{mat2\+D\+\_\+normalize}}, \mbox{\hyperlink{Matrix2D_8h_source_l00527}{mat2\+D\+\_\+sub()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00093}{Quad\+::normals}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00092}{Quad\+::points}}.

\mbox{\Hypertarget{Almog__Engine_8h_a318de3677b5db4ffd03ae2b73a998e52}\label{Almog__Engine_8h_a318de3677b5db4ffd03ae2b73a998e52}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_quad\_transform\_to\_view@{ae\_quad\_transform\_to\_view}}
\index{ae\_quad\_transform\_to\_view@{ae\_quad\_transform\_to\_view}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_quad\_transform\_to\_view()}{ae\_quad\_transform\_to\_view()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structQuad}{Quad}} ae\+\_\+quad\+\_\+transform\+\_\+to\+\_\+view (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structQuad}{Quad}}}]{quad }\end{DoxyParamCaption})}



Transform a quad from world space to view space. 

Applies view\+\_\+mat to each vertex (homogeneous multiply with w=1). Returns the transformed quad; normals are not changed.


\begin{DoxyParams}{Parameters}
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em quad} & World-\/space quad. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structQuad}{Quad}} View-\/space quad. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03271}{3271}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00044}{AE\+\_\+\+ASSERT}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00097}{ae\+\_\+assert\+\_\+quad\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00424}{mat2\+D\+\_\+dot()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00092}{Quad\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03321}{ae\+\_\+quad\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_ad38d3a6db0cc5704ab3dc39deac988e8}\label{Almog__Engine_8h_ad38d3a6db0cc5704ab3dc39deac988e8}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_scene\_free@{ae\_scene\_free}}
\index{ae\_scene\_free@{ae\_scene\_free}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_scene\_free()}{ae\_scene\_free()}}
{\footnotesize\ttfamily void ae\+\_\+scene\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}



Free all resources owned by a \mbox{\hyperlink{structScene}{Scene}}. 

Frees camera, matrices, and any allocated meshes in the in\+\_\+world, projected, and original mesh arrays (triangles and quads). Does not free the \mbox{\hyperlink{structScene}{Scene}} struct itself when passed by pointer.


\begin{DoxyParams}{Parameters}
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} to free.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Assumes the game\+\_\+state was initialized with zeros. 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00429}{429}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00366}{ae\+\_\+camera\+\_\+free()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00105}{Tri\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00114}{Quad\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00131}{Tri\+\_\+mesh\+\_\+array\+::elements}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00140}{Quad\+\_\+mesh\+\_\+array\+::elements}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00178}{Scene\+::in\+\_\+world\+\_\+quad\+\_\+meshes}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00174}{Scene\+::in\+\_\+world\+\_\+tri\+\_\+meshes}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00129}{Tri\+\_\+mesh\+\_\+array\+::length}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00138}{Quad\+\_\+mesh\+\_\+array\+::length}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00180}{Scene\+::original\+\_\+quad\+\_\+meshes}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00176}{Scene\+::original\+\_\+tri\+\_\+meshes}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00184}{Scene\+::proj\+\_\+mat}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00179}{Scene\+::projected\+\_\+quad\+\_\+meshes}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00175}{Scene\+::projected\+\_\+tri\+\_\+meshes}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00183}{Scene\+::up\+\_\+direction}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l00185}{Scene\+::view\+\_\+mat}}.



Referenced by \mbox{\hyperlink{display_8c_source_l00316}{destroy\+\_\+window()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a20905d8a847c8c005e4ea73678a6a8ec}\label{Almog__Engine_8h_a20905d8a847c8c005e4ea73678a6a8ec}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_scene\_init@{ae\_scene\_init}}
\index{ae\_scene\_init@{ae\_scene\_init}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_scene\_init()}{ae\_scene\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structScene}{Scene}} ae\+\_\+scene\+\_\+init (\begin{DoxyParamCaption}\item[{int}]{window\+\_\+h,  }\item[{int}]{window\+\_\+w }\end{DoxyParamCaption})}



Create and initialize a \mbox{\hyperlink{structScene}{Scene}}. 

Initializes camera, up direction, default light and material, and allocates projection and view matrices. Caller must release resources with ae\+\_\+scene\+\_\+free.


\begin{DoxyParams}{Parameters}
{\em window\+\_\+h} & Window height in pixels. \\
\hline
{\em window\+\_\+w} & Window width in pixels. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structScene}{Scene}} An initialized scene object. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00388}{388}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00320}{ae\+\_\+camera\+\_\+init()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00976}{ae\+\_\+point\+\_\+normalize\+\_\+xyz()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02682}{ae\+\_\+projection\+\_\+mat\+\_\+set()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02716}{ae\+\_\+view\+\_\+mat\+\_\+set()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00152}{Camera\+::aspect\+\_\+ratio}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00168}{Material\+::c\+\_\+ambi}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00169}{Material\+::c\+\_\+diff}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00170}{Material\+::c\+\_\+spec}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00182}{Scene\+::camera}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00151}{Camera\+::fov\+\_\+deg}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00162}{Light\+\_\+source\+::light\+\_\+direction\+\_\+or\+\_\+pos}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00163}{Light\+\_\+source\+::light\+\_\+intensity}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00187}{Scene\+::light\+\_\+source0}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00188}{Scene\+::material0}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00184}{Scene\+::proj\+\_\+mat}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00167}{Material\+::specular\+\_\+power\+\_\+alpha}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00183}{Scene\+::up\+\_\+direction}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00185}{Scene\+::view\+\_\+mat}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00150}{Camera\+::z\+\_\+far}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l00149}{Camera\+::z\+\_\+near}}.



Referenced by \mbox{\hyperlink{display_8c_source_l00170}{setup\+\_\+window()}}.

\mbox{\Hypertarget{Almog__Engine_8h_addb82974119ee833122b944f3c0c1b71}\label{Almog__Engine_8h_addb82974119ee833122b944f3c0c1b71}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_signed\_dist\_point\_and\_plane@{ae\_signed\_dist\_point\_and\_plane}}
\index{ae\_signed\_dist\_point\_and\_plane@{ae\_signed\_dist\_point\_and\_plane}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_signed\_dist\_point\_and\_plane()}{ae\_signed\_dist\_point\_and\_plane()}}
{\footnotesize\ttfamily float ae\+\_\+signed\+\_\+dist\+\_\+point\+\_\+and\+\_\+plane (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structPoint}{Point}}}]{p,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{plane\+\_\+p,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{plane\+\_\+n }\end{DoxyParamCaption})}



Signed distance from a point to a plane. 

Computes dot(n, p) -\/ dot(n, plane\+\_\+p). The normal is not normalized internally; pass a normalized plane\+\_\+n for distances in consistent units.


\begin{DoxyParams}{Parameters}
{\em p} & \mbox{\hyperlink{structPoint}{Point}} to evaluate. \\
\hline
{\em plane\+\_\+p} & Plane reference point (3x1). \\
\hline
{\em plane\+\_\+n} & Plane normal (3x1). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
float Signed distance ($>$=0 is on the \char`\"{}inside\char`\"{} of the plane). 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01807}{1807}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00089}{ae\+\_\+assert\+\_\+point\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01720}{ae\+\_\+line\+\_\+clip\+\_\+with\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02181}{ae\+\_\+quad\+\_\+clip\+\_\+with\+\_\+plane()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l01838}{ae\+\_\+tri\+\_\+clip\+\_\+with\+\_\+plane()}}.

\mbox{\Hypertarget{Almog__Engine_8h_abbea9d10462f28e6e52352a6c36ffabd}\label{Almog__Engine_8h_abbea9d10462f28e6e52352a6c36ffabd}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_calc\_light\_intensity@{ae\_tri\_calc\_light\_intensity}}
\index{ae\_tri\_calc\_light\_intensity@{ae\_tri\_calc\_light\_intensity}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_calc\_light\_intensity()}{ae\_tri\_calc\_light\_intensity()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+calc\+\_\+light\+\_\+intensity (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri}{Tri}} $\ast$}]{tri,  }\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene,  }\item[{\mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}}}]{lighting\+\_\+mode }\end{DoxyParamCaption})}



Compute per-\/vertex lighting intensity for a triangle. 

Implements a Phong-\/like model with ambient, diffuse, and specular terms, using material0 and light\+\_\+source0 from the scene. When lighting\+\_\+mode is AE\+\_\+\+LIGHTING\+\_\+\+FLAT, the average normal and triangle centroid are used for all vertices; when AE\+\_\+\+LIGHTING\+\_\+\+SMOOTH, each vertex normal and position is used. For directional light, light\+\_\+direction\+\_\+or\+\_\+pos.\+w == 0; for point light, w != 0. Results are clamped to \mbox{[}0, 1\mbox{]}.


\begin{DoxyParams}{Parameters}
{\em tri} & Triangle to update (tri-\/$>$light\+\_\+intensity\mbox{[}i\mbox{]} is written). \\
\hline
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} providing light and material parameters. \\
\hline
{\em lighting\+\_\+mode} & Flat or smooth lighting mode. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01487}{1487}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00121}{AE\+\_\+\+LIGHTING\+\_\+\+FLAT}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00122}{AE\+\_\+\+LIGHTING\+\_\+\+SMOOTH}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00522}{ae\+\_\+mat2\+D\+\_\+to\+\_\+point()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00105}{ae\+\_\+point\+\_\+add\+\_\+point}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00113}{ae\+\_\+point\+\_\+dot\+\_\+point}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00114}{ae\+\_\+point\+\_\+mult}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00976}{ae\+\_\+point\+\_\+normalize\+\_\+xyz()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00109}{ae\+\_\+point\+\_\+sub\+\_\+point}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01041}{ae\+\_\+tri\+\_\+get\+\_\+average\+\_\+normal()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01062}{ae\+\_\+tri\+\_\+get\+\_\+average\+\_\+point()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00168}{Material\+::c\+\_\+ambi}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00169}{Material\+::c\+\_\+diff}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00170}{Material\+::c\+\_\+spec}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00182}{Scene\+::camera}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00146}{Camera\+::current\+\_\+position}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00162}{Light\+\_\+source\+::light\+\_\+direction\+\_\+or\+\_\+pos}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00085}{Tri\+::light\+\_\+intensity}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00163}{Light\+\_\+source\+::light\+\_\+intensity}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00187}{Scene\+::light\+\_\+source0}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00188}{Scene\+::material0}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00082}{Tri\+::normals}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00167}{Material\+::specular\+\_\+power\+\_\+alpha}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03038}{ae\+\_\+tri\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_add210cedd8afbad661cb2afb96c077df}\label{Almog__Engine_8h_add210cedd8afbad661cb2afb96c077df}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_calc\_normal@{ae\_tri\_calc\_normal}}
\index{ae\_tri\_calc\_normal@{ae\_tri\_calc\_normal}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_calc\_normal()}{ae\_tri\_calc\_normal()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+calc\+\_\+normal (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{normal,  }\item[{\mbox{\hyperlink{structTri}{Tri}}}]{tri }\end{DoxyParamCaption})}



Compute the face normal of a triangle. 

normal must be a 3x1 vector. The function writes the normalized cross product of (p1 -\/ p0) x (p2 -\/ p0) into normal.


\begin{DoxyParams}{Parameters}
{\em normal} & Output 3x1 vector for the face normal. \\
\hline
{\em tri} & Input triangle. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01086}{1086}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00044}{AE\+\_\+\+ASSERT}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00094}{ae\+\_\+assert\+\_\+tri\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00498}{ae\+\_\+point\+\_\+to\+\_\+mat2\+D()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00083}{Mat2\+D\+::cols}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00931}{mat2\+D\+\_\+calc\+\_\+norma()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00479}{mat2\+D\+\_\+cross()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00557}{mat2\+D\+\_\+mult()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00527}{mat2\+D\+\_\+sub()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, and \mbox{\hyperlink{Matrix2D_8h_source_l00082}{Mat2\+D\+::rows}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03038}{ae\+\_\+tri\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a8c5f2139e3c08f222e1c1bf9ccb4c8b8}\label{Almog__Engine_8h_a8c5f2139e3c08f222e1c1bf9ccb4c8b8}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_clip\_with\_plane@{ae\_tri\_clip\_with\_plane}}
\index{ae\_tri\_clip\_with\_plane@{ae\_tri\_clip\_with\_plane}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_clip\_with\_plane()}{ae\_tri\_clip\_with\_plane()}}
{\footnotesize\ttfamily int ae\+\_\+tri\+\_\+clip\+\_\+with\+\_\+plane (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri}{Tri}}}]{tri\+\_\+in,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{plane\+\_\+p,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{plane\+\_\+n,  }\item[{\mbox{\hyperlink{structTri}{Tri}} $\ast$}]{tri\+\_\+out1,  }\item[{\mbox{\hyperlink{structTri}{Tri}} $\ast$}]{tri\+\_\+out2 }\end{DoxyParamCaption})}



Clip a triangle against a plane. 

Splits or discards the triangle tri\+\_\+in against the plane defined by (plane\+\_\+p, plane\+\_\+n). plane\+\_\+n is normalized inside the function.


\begin{DoxyParams}{Parameters}
{\em tri\+\_\+in} & Input triangle. \\
\hline
{\em plane\+\_\+p} & Plane reference point (3x1). \\
\hline
{\em plane\+\_\+n} & Plane normal (3x1). \\
\hline
{\em tri\+\_\+out1} & First output triangle (if any). \\
\hline
{\em tri\+\_\+out2} & Second output triangle (if split). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Number of output triangles\+: 0 (culled), 1, or 2. Returns -\/1 on error. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01838}{1838}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00094}{ae\+\_\+assert\+\_\+tri\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01680}{ae\+\_\+line\+\_\+itersect\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00498}{ae\+\_\+point\+\_\+to\+\_\+mat2\+D()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01807}{ae\+\_\+signed\+\_\+dist\+\_\+point\+\_\+and\+\_\+plane()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00083}{Tri\+::colors}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00184}{mat2\+D\+\_\+normalize}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00081}{Tri\+::tex\+\_\+points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03151}{ae\+\_\+tri\+\_\+mesh\+\_\+project\+\_\+world2screen()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l03038}{ae\+\_\+tri\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_ac07fff7a48f2dc40046df5f8794d61d2}\label{Almog__Engine_8h_ac07fff7a48f2dc40046df5f8794d61d2}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_compare@{ae\_tri\_compare}}
\index{ae\_tri\_compare@{ae\_tri\_compare}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_compare()}{ae\_tri\_compare()}}
{\footnotesize\ttfamily bool ae\+\_\+tri\+\_\+compare (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri}{Tri}}}]{t1,  }\item[{\mbox{\hyperlink{structTri}{Tri}}}]{t2 }\end{DoxyParamCaption})}



Compare two triangles for sorting by depth. 

Returns true if t1 should come before t2 when sorting by the maximum z of their vertices (descending order).


\begin{DoxyParams}{Parameters}
{\em t1} & First triangle. \\
\hline
{\em t2} & Second triangle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool true if t1 precedes t2, false otherwise. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03725}{3725}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03742}{ae\+\_\+tri\+\_\+qsort()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a79c90a129257a4d5daa335977a47b666}\label{Almog__Engine_8h_a79c90a129257a4d5daa335977a47b666}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_create@{ae\_tri\_create}}
\index{ae\_tri\_create@{ae\_tri\_create}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_create()}{ae\_tri\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structTri}{Tri}} ae\+\_\+tri\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structPoint}{Point}}}]{p1,  }\item[{\mbox{\hyperlink{structPoint}{Point}}}]{p2,  }\item[{\mbox{\hyperlink{structPoint}{Point}}}]{p3 }\end{DoxyParamCaption})}



Create a triangle from three points. 


\begin{DoxyParams}{Parameters}
{\em p1} & First vertex (world space). \\
\hline
{\em p2} & Second vertex (world space). \\
\hline
{\em p3} & Third vertex (world space). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structTri}{Tri}} The created triangle with vertices set. Other fields are left uninitialized. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00278}{278}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}.

\mbox{\Hypertarget{Almog__Engine_8h_ae88854393111f68a7fcc4977070d981b}\label{Almog__Engine_8h_ae88854393111f68a7fcc4977070d981b}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_get\_average\_normal@{ae\_tri\_get\_average\_normal}}
\index{ae\_tri\_get\_average\_normal@{ae\_tri\_get\_average\_normal}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_get\_average\_normal()}{ae\_tri\_get\_average\_normal()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structPoint}{Point}} ae\+\_\+tri\+\_\+get\+\_\+average\+\_\+normal (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri}{Tri}}}]{tri }\end{DoxyParamCaption})}



Compute the average of the three vertex normals of a triangle. 

Averages the three vertex normals and normalizes the result.


\begin{DoxyParams}{Parameters}
{\em tri} & Input triangle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structPoint}{Point}} The averaged, normalized normal (w averaged but unused). 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01041}{1041}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00976}{ae\+\_\+point\+\_\+normalize\+\_\+xyz()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00082}{Tri\+::normals}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01487}{ae\+\_\+tri\+\_\+calc\+\_\+light\+\_\+intensity()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a3ee60e72e8969b1cf15d333a091f8ae7}\label{Almog__Engine_8h_a3ee60e72e8969b1cf15d333a091f8ae7}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_get\_average\_point@{ae\_tri\_get\_average\_point}}
\index{ae\_tri\_get\_average\_point@{ae\_tri\_get\_average\_point}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_get\_average\_point()}{ae\_tri\_get\_average\_point()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structPoint}{Point}} ae\+\_\+tri\+\_\+get\+\_\+average\+\_\+point (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri}{Tri}}}]{tri }\end{DoxyParamCaption})}



Compute the average of the three vertices of a triangle. 


\begin{DoxyParams}{Parameters}
{\em tri} & Input triangle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structPoint}{Point}} The average point (x, y, z, w are simple averages). 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01062}{1062}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01487}{ae\+\_\+tri\+\_\+calc\+\_\+light\+\_\+intensity()}}.

\mbox{\Hypertarget{Almog__Engine_8h_abf4e49af66c2e3d0c5d8fba65ce4f2bc}\label{Almog__Engine_8h_abf4e49af66c2e3d0c5d8fba65ce4f2bc}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_appand\_copy@{ae\_tri\_mesh\_appand\_copy}}
\index{ae\_tri\_mesh\_appand\_copy@{ae\_tri\_mesh\_appand\_copy}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_appand\_copy()}{ae\_tri\_mesh\_appand\_copy()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+mesh\+\_\+appand\+\_\+copy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri__mesh__array}{Tri\+\_\+mesh\+\_\+array}} $\ast$}]{mesh\+\_\+array,  }\item[{\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}}}]{mesh }\end{DoxyParamCaption})}



Append a copy of a \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} into a \mbox{\hyperlink{structTri__mesh__array}{Tri\+\_\+mesh\+\_\+array}}. 

Creates a deep copy of mesh (triangles by value) and appends it to mesh\+\_\+array (ADA array of meshes).


\begin{DoxyParams}{Parameters}
{\em mesh\+\_\+array} & Destination mesh array to append into. \\
\hline
{\em mesh} & Source triangle mesh to copy. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00851}{851}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00169}{ada\+\_\+appand}}, \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00120}{ada\+\_\+init\+\_\+array}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00105}{Tri\+\_\+mesh\+::elements}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00103}{Tri\+\_\+mesh\+::length}}.



Referenced by \mbox{\hyperlink{teapot__example_8c_source_l00012}{setup()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a4b435e38049391004f3116c7cfedce87}\label{Almog__Engine_8h_a4b435e38049391004f3116c7cfedce87}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_create\_copy@{ae\_tri\_mesh\_create\_copy}}
\index{ae\_tri\_mesh\_create\_copy@{ae\_tri\_mesh\_create\_copy}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_create\_copy()}{ae\_tri\_mesh\_create\_copy()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+mesh\+\_\+create\+\_\+copy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} $\ast$}]{des,  }\item[{\mbox{\hyperlink{structTri}{Tri}} $\ast$}]{src\+\_\+elements,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})}



Append copies of triangles to a destination \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} (resets destination length first). 

Appends len triangles from src\+\_\+elements into the destination ADA array pointed by des.


\begin{DoxyParams}{Parameters}
{\em des} & Destination triangle mesh (ADA array). Will grow as needed. \\
\hline
{\em src\+\_\+elements} & Source array of triangles to copy from. \\
\hline
{\em len} & Number of triangles to copy from src\+\_\+elements. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00299}{299}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00169}{ada\+\_\+appand}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00103}{Tri\+\_\+mesh\+::length}}.

\mbox{\Hypertarget{Almog__Engine_8h_ab014e21d442505ee1ca7c910a6307f8a}\label{Almog__Engine_8h_ab014e21d442505ee1ca7c910a6307f8a}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_flip\_normals@{ae\_tri\_mesh\_flip\_normals}}
\index{ae\_tri\_mesh\_flip\_normals@{ae\_tri\_mesh\_flip\_normals}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_flip\_normals()}{ae\_tri\_mesh\_flip\_normals()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+mesh\+\_\+flip\+\_\+normals (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}}}]{mesh }\end{DoxyParamCaption})}



Flip triangle winding and recompute per-\/vertex normals. 

Swaps vertex order to invert winding, copies attributes accordingly, and recomputes normals.


\begin{DoxyParams}{Parameters}
{\em mesh} & Mesh to flip (modified in place). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01283}{1283}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00998}{ae\+\_\+tri\+\_\+set\+\_\+normals()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00083}{Tri\+::colors}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00105}{Tri\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00103}{Tri\+\_\+mesh\+::length}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00085}{Tri\+::light\+\_\+intensity}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00082}{Tri\+::normals}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00081}{Tri\+::tex\+\_\+points}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00084}{Tri\+::to\+\_\+draw}}.

\mbox{\Hypertarget{Almog__Engine_8h_af8271eb7d6d313acddd78b4bcf6a8555}\label{Almog__Engine_8h_af8271eb7d6d313acddd78b4bcf6a8555}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_get\_from\_file@{ae\_tri\_mesh\_get\_from\_file}}
\index{ae\_tri\_mesh\_get\_from\_file@{ae\_tri\_mesh\_get\_from\_file}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_get\_from\_file()}{ae\_tri\_mesh\_get\_from\_file()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+file (\begin{DoxyParamCaption}\item[{char $\ast$}]{file\+\_\+path }\end{DoxyParamCaption})}



Load a triangle mesh from a file (OBJ or STL). 

Dispatches to ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+obj\+\_\+file or ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+stl\+\_\+file based on file extension.


\begin{DoxyParams}{Parameters}
{\em file\+\_\+path} & Path to the file (.obj, .stl, .STL). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} The loaded triangle mesh. Caller must free mesh.\+elements when done. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00816}{816}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00540}{ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+obj\+\_\+file()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00743}{ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+stl\+\_\+file()}}, \mbox{\hyperlink{Almog__String__Manipulation_8h_source_l00260}{asm\+\_\+get\+\_\+word\+\_\+and\+\_\+cut()}}, \mbox{\hyperlink{Almog__String__Manipulation_8h_source_l00058}{ASM\+\_\+\+MAX\+\_\+\+LEN\+\_\+\+LINE}}, and \mbox{\hyperlink{Almog__String__Manipulation_8h_source_l00285}{asm\+\_\+str\+\_\+in\+\_\+str()}}.



Referenced by \mbox{\hyperlink{teapot__example_8c_source_l00012}{setup()}}.

\mbox{\Hypertarget{Almog__Engine_8h_aef0dc6e58e24d1fad454eedddcbecda3}\label{Almog__Engine_8h_aef0dc6e58e24d1fad454eedddcbecda3}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_get\_from\_obj\_file@{ae\_tri\_mesh\_get\_from\_obj\_file}}
\index{ae\_tri\_mesh\_get\_from\_obj\_file@{ae\_tri\_mesh\_get\_from\_obj\_file}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_get\_from\_obj\_file()}{ae\_tri\_mesh\_get\_from\_obj\_file()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+obj\+\_\+file (\begin{DoxyParamCaption}\item[{char $\ast$}]{file\+\_\+path }\end{DoxyParamCaption})}



Load a triangle mesh from a Wavefront OBJ file. 

Supports vertex positions (v). Face lines (f) with 3 or 4 vertices are parsed. Texture coordinates and normals in the file are ignored (a warning is printed once if present). Quads are triangulated as (0,1,2) and (2,3,0). Colors are set to white and to\+\_\+draw is set to true.


\begin{DoxyParams}{Parameters}
{\em file\+\_\+path} & Path to the OBJ file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} The loaded triangle mesh. Caller must free mesh.\+elements when done. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00540}{540}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00169}{ada\+\_\+appand}}, \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00120}{ada\+\_\+init\+\_\+array}}, \mbox{\hyperlink{Almog__String__Manipulation_8h_source_l00119}{asm\+\_\+get\+\_\+line()}}, \mbox{\hyperlink{Almog__String__Manipulation_8h_source_l00182}{asm\+\_\+get\+\_\+next\+\_\+word\+\_\+from\+\_\+line()}}, \mbox{\hyperlink{Almog__String__Manipulation_8h_source_l00260}{asm\+\_\+get\+\_\+word\+\_\+and\+\_\+cut()}}, \mbox{\hyperlink{Almog__String__Manipulation_8h_source_l00146}{asm\+\_\+length()}}, \mbox{\hyperlink{Almog__String__Manipulation_8h_source_l00058}{ASM\+\_\+\+MAX\+\_\+\+LEN\+\_\+\+LINE}}, \mbox{\hyperlink{Almog__String__Manipulation_8h_source_l00285}{asm\+\_\+str\+\_\+in\+\_\+str()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00083}{Tri\+::colors}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00064}{Curve\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00085}{Tri\+::light\+\_\+intensity}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00084}{Tri\+::to\+\_\+draw}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l00816}{ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+file()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a4d2ce5dce0415cc4b1cf02c1f6c6bc77}\label{Almog__Engine_8h_a4d2ce5dce0415cc4b1cf02c1f6c6bc77}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_get\_from\_quad\_mesh@{ae\_tri\_mesh\_get\_from\_quad\_mesh}}
\index{ae\_tri\_mesh\_get\_from\_quad\_mesh@{ae\_tri\_mesh\_get\_from\_quad\_mesh}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_get\_from\_quad\_mesh()}{ae\_tri\_mesh\_get\_from\_quad\_mesh()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+quad\+\_\+mesh (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structQuad__mesh}{Quad\+\_\+mesh}}}]{q\+\_\+mesh }\end{DoxyParamCaption})}



Convert a \mbox{\hyperlink{structQuad__mesh}{Quad\+\_\+mesh}} into a \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}}. 

Splits each quad into two triangles\+: (0,1,2) and (2,3,0), copying per-\/vertex attributes (points, colors, normals, light intensities).


\begin{DoxyParams}{Parameters}
{\em q\+\_\+mesh} & Input quad mesh. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} Resulting triangle mesh. Caller must free mesh.\+elements when done. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00875}{875}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00169}{ada\+\_\+appand}}, \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00120}{ada\+\_\+init\+\_\+array}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00083}{Tri\+::colors}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00094}{Quad\+::colors}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00114}{Quad\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00112}{Quad\+\_\+mesh\+::length}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00085}{Tri\+::light\+\_\+intensity}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00096}{Quad\+::light\+\_\+intensity}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00082}{Tri\+::normals}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00093}{Quad\+::normals}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00092}{Quad\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00084}{Tri\+::to\+\_\+draw}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00095}{Quad\+::to\+\_\+draw}}.

\mbox{\Hypertarget{Almog__Engine_8h_aae60309114a77dde9494d50c049998e0}\label{Almog__Engine_8h_aae60309114a77dde9494d50c049998e0}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_get\_from\_stl\_file@{ae\_tri\_mesh\_get\_from\_stl\_file}}
\index{ae\_tri\_mesh\_get\_from\_stl\_file@{ae\_tri\_mesh\_get\_from\_stl\_file}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_get\_from\_stl\_file()}{ae\_tri\_mesh\_get\_from\_stl\_file()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+stl\+\_\+file (\begin{DoxyParamCaption}\item[{char $\ast$}]{file\+\_\+path }\end{DoxyParamCaption})}



Load a triangle mesh from a binary STL file. 

Reads binary STL (little-\/endian). Per-\/triangle normals from the file are negated to match the engine\textquotesingle{}s convention and copied to each vertex normal. Colors are set to white and to\+\_\+draw is set to true.


\begin{DoxyParams}{Parameters}
{\em file\+\_\+path} & Path to the binary STL file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} The loaded triangle mesh. Caller must free mesh.\+elements when done. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00743}{743}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00169}{ada\+\_\+appand}}, \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00120}{ada\+\_\+init\+\_\+array}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00083}{Tri\+::colors}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00085}{Tri\+::light\+\_\+intensity}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00082}{Tri\+::normals}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00071}{STL\+\_\+\+ATTRIBUTE\+\_\+\+BITS\+\_\+\+SIZE}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00059}{STL\+\_\+\+HEADER\+\_\+\+SIZE}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00063}{STL\+\_\+\+NUM\+\_\+\+SIZE}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00084}{Tri\+::to\+\_\+draw}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l00816}{ae\+\_\+tri\+\_\+mesh\+\_\+get\+\_\+from\+\_\+file()}}.

\mbox{\Hypertarget{Almog__Engine_8h_ae970b00a8720bd46cf0743327170b4c2}\label{Almog__Engine_8h_ae970b00a8720bd46cf0743327170b4c2}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_normalize@{ae\_tri\_mesh\_normalize}}
\index{ae\_tri\_mesh\_normalize@{ae\_tri\_mesh\_normalize}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_normalize()}{ae\_tri\_mesh\_normalize()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+mesh\+\_\+normalize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}}}]{mesh }\end{DoxyParamCaption})}



Normalize mesh coordinates to \mbox{[}-\/1, 1\mbox{]}, centered at origin. 

Uniformly scales and recenters the mesh so that the largest axis fits exactly into \mbox{[}-\/1, 1\mbox{]}. Other axes are scaled proportionally. Updates all vertices in place.


\begin{DoxyParams}{Parameters}
{\em mesh} & Triangle mesh to normalize (modified in place). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01244}{1244}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l01206}{ae\+\_\+tri\+\_\+mesh\+\_\+set\+\_\+bounding\+\_\+box()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00105}{Tri\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00103}{Tri\+\_\+mesh\+::length}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{teapot__example_8c_source_l00012}{setup()}}.

\mbox{\Hypertarget{Almog__Engine_8h_ad67eee66e34c55818406703f2a13ccd5}\label{Almog__Engine_8h_ad67eee66e34c55818406703f2a13ccd5}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_project\_world2screen@{ae\_tri\_mesh\_project\_world2screen}}
\index{ae\_tri\_mesh\_project\_world2screen@{ae\_tri\_mesh\_project\_world2screen}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_project\_world2screen()}{ae\_tri\_mesh\_project\_world2screen()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+mesh\+\_\+project\+\_\+world2screen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{proj\+\_\+mat,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} $\ast$}]{des,  }\item[{\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}}}]{src,  }\item[{int}]{window\+\_\+w,  }\item[{int}]{window\+\_\+h,  }\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene,  }\item[{\mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}}}]{lighting\+\_\+mode }\end{DoxyParamCaption})}



Project a triangle mesh from world to screen space with clipping. 

Iterates over all triangles, applies near-\/plane and screen-\/edge clipping (top/right/bottom/left), and writes results into des. Triangles can be split by clipping, so des may end up with more elements than src.


\begin{DoxyParams}{Parameters}
{\em proj\+\_\+mat} & Projection matrix (4x4). \\
\hline
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em des} & Output mesh (cleared and filled; ADA array grown as needed). \\
\hline
{\em src} & Input world-\/space triangle mesh. \\
\hline
{\em window\+\_\+w} & Screen width in pixels. \\
\hline
{\em window\+\_\+h} & Screen height in pixels. \\
\hline
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} (camera/light/material). \\
\hline
{\em lighting\+\_\+mode} & Flat or smooth lighting mode. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03151}{3151}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00169}{ada\+\_\+appand}}, \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00222}{ada\+\_\+insert\+\_\+unordered}}, \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00267}{ada\+\_\+remove\+\_\+unordered}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00094}{ae\+\_\+assert\+\_\+tri\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01838}{ae\+\_\+tri\+\_\+clip\+\_\+with\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l03038}{ae\+\_\+tri\+\_\+project\+\_\+world2screen()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00105}{Tri\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00103}{Tri\+\_\+mesh\+::length}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, and \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}.



Referenced by \mbox{\hyperlink{teapot__example_8c_source_l00050}{update()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a7b0d79ba4b2f6afdbe3c40c5a1a175de}\label{Almog__Engine_8h_a7b0d79ba4b2f6afdbe3c40c5a1a175de}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_rotate\_Euler\_xyz@{ae\_tri\_mesh\_rotate\_Euler\_xyz}}
\index{ae\_tri\_mesh\_rotate\_Euler\_xyz@{ae\_tri\_mesh\_rotate\_Euler\_xyz}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_rotate\_Euler\_xyz()}{ae\_tri\_mesh\_rotate\_Euler\_xyz()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+mesh\+\_\+rotate\+\_\+\+Euler\+\_\+xyz (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}}}]{mesh,  }\item[{float}]{phi\+\_\+deg,  }\item[{float}]{theta\+\_\+deg,  }\item[{float}]{psi\+\_\+deg }\end{DoxyParamCaption})}



Rotate a triangle mesh using XYZ Euler angles (degrees). 

Applies DCM = Cz(psi\+\_\+deg) $\ast$ Cy(theta\+\_\+deg) $\ast$ Cx(phi\+\_\+deg) to each vertex. Recomputes per-\/vertex normals afterward.


\begin{DoxyParams}{Parameters}
{\em mesh} & Triangle mesh to rotate (modified in place). \\
\hline
{\em phi\+\_\+deg} & Rotation about X axis, degrees. \\
\hline
{\em theta\+\_\+deg} & Rotation about Y axis, degrees. \\
\hline
{\em psi\+\_\+deg} & Rotation about Z axis, degrees. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01143}{1143}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l01321}{ae\+\_\+tri\+\_\+mesh\+\_\+set\+\_\+normals()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00105}{Tri\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00103}{Tri\+\_\+mesh\+::length}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00424}{mat2\+D\+\_\+dot()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00689}{mat2\+D\+\_\+set\+\_\+rot\+\_\+mat\+\_\+x()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00706}{mat2\+D\+\_\+set\+\_\+rot\+\_\+mat\+\_\+y()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00723}{mat2\+D\+\_\+set\+\_\+rot\+\_\+mat\+\_\+z()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{teapot__example_8c_source_l00012}{setup()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a63cfcc7dda05af0fe61b57f012f949d2}\label{Almog__Engine_8h_a63cfcc7dda05af0fe61b57f012f949d2}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_set\_bounding\_box@{ae\_tri\_mesh\_set\_bounding\_box}}
\index{ae\_tri\_mesh\_set\_bounding\_box@{ae\_tri\_mesh\_set\_bounding\_box}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_set\_bounding\_box()}{ae\_tri\_mesh\_set\_bounding\_box()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+mesh\+\_\+set\+\_\+bounding\+\_\+box (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}}}]{mesh,  }\item[{float $\ast$}]{x\+\_\+min,  }\item[{float $\ast$}]{x\+\_\+max,  }\item[{float $\ast$}]{y\+\_\+min,  }\item[{float $\ast$}]{y\+\_\+max,  }\item[{float $\ast$}]{z\+\_\+min,  }\item[{float $\ast$}]{z\+\_\+max }\end{DoxyParamCaption})}



Compute the axis-\/aligned bounding box of a triangle mesh. 

Writes min/max for x, y, z across all vertices in the mesh.


\begin{DoxyParams}{Parameters}
{\em mesh} & Input triangle mesh. \\
\hline
{\em x\+\_\+min} & Output minimum x. \\
\hline
{\em x\+\_\+max} & Output maximum x. \\
\hline
{\em y\+\_\+min} & Output minimum y. \\
\hline
{\em y\+\_\+max} & Output maximum y. \\
\hline
{\em z\+\_\+min} & Output minimum z. \\
\hline
{\em z\+\_\+max} & Output maximum z. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01206}{1206}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00105}{Tri\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00103}{Tri\+\_\+mesh\+::length}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01244}{ae\+\_\+tri\+\_\+mesh\+\_\+normalize()}}.

\mbox{\Hypertarget{Almog__Engine_8h_aa8b3ea525ba405673473938bf9065c63}\label{Almog__Engine_8h_aa8b3ea525ba405673473938bf9065c63}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_set\_normals@{ae\_tri\_mesh\_set\_normals}}
\index{ae\_tri\_mesh\_set\_normals@{ae\_tri\_mesh\_set\_normals}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_set\_normals()}{ae\_tri\_mesh\_set\_normals()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+mesh\+\_\+set\+\_\+normals (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}}}]{mesh }\end{DoxyParamCaption})}



Recompute per-\/vertex normals for all triangles in a mesh. 

Calls ae\+\_\+tri\+\_\+set\+\_\+normals on each triangle.


\begin{DoxyParams}{Parameters}
{\em mesh} & Mesh to update (modified in place). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01321}{1321}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00998}{ae\+\_\+tri\+\_\+set\+\_\+normals()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00105}{Tri\+\_\+mesh\+::elements}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00103}{Tri\+\_\+mesh\+::length}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01143}{ae\+\_\+tri\+\_\+mesh\+\_\+rotate\+\_\+\+Euler\+\_\+xyz()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a2b42f501a0c410d33c3c77188b2373d5}\label{Almog__Engine_8h_a2b42f501a0c410d33c3c77188b2373d5}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_mesh\_translate@{ae\_tri\_mesh\_translate}}
\index{ae\_tri\_mesh\_translate@{ae\_tri\_mesh\_translate}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_mesh\_translate()}{ae\_tri\_mesh\_translate()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+mesh\+\_\+translate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}}}]{mesh,  }\item[{float}]{x,  }\item[{float}]{y,  }\item[{float}]{z }\end{DoxyParamCaption})}



Translate a triangle mesh by (x, y, z). 

Adds the given offsets to each vertex in the mesh.


\begin{DoxyParams}{Parameters}
{\em mesh} & Triangle mesh to translate (modified in place). \\
\hline
{\em x} & X-\/axis offset. \\
\hline
{\em y} & Y-\/axis offset. \\
\hline
{\em z} & Z-\/axis offset. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l01121}{1121}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00105}{Tri\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00103}{Tri\+\_\+mesh\+::length}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.

\mbox{\Hypertarget{Almog__Engine_8h_a58de2ce54cb320d8cade6a8de95d89d3}\label{Almog__Engine_8h_a58de2ce54cb320d8cade6a8de95d89d3}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_project\_world2screen@{ae\_tri\_project\_world2screen}}
\index{ae\_tri\_project\_world2screen@{ae\_tri\_project\_world2screen}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_project\_world2screen()}{ae\_tri\_project\_world2screen()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} ae\+\_\+tri\+\_\+project\+\_\+world2screen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{proj\+\_\+mat,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structTri}{Tri}}}]{tri,  }\item[{int}]{window\+\_\+w,  }\item[{int}]{window\+\_\+h,  }\item[{\mbox{\hyperlink{structScene}{Scene}} $\ast$}]{scene,  }\item[{\mbox{\hyperlink{Almog__Engine_8h_a3b664376e82e1cd4013e17ea17ac6501}{Lighting\+\_\+mode}}}]{lighting\+\_\+mode }\end{DoxyParamCaption})}



Project a single world-\/space triangle to screen space with clipping. 

Computes lighting, back-\/face visibility, transforms to view space, clips against near plane, and projects to screen space. If clipping splits the triangle, multiple triangles may be returned.


\begin{DoxyParams}{Parameters}
{\em proj\+\_\+mat} & Projection matrix (4x4). \\
\hline
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em tri} & World-\/space triangle. \\
\hline
{\em window\+\_\+w} & Screen width in pixels. \\
\hline
{\em window\+\_\+h} & Screen height in pixels. \\
\hline
{\em scene} & \mbox{\hyperlink{structScene}{Scene}} (camera for near plane, light/material for lighting). \\
\hline
{\em lighting\+\_\+mode} & Flat or smooth lighting mode. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structTri__mesh}{Tri\+\_\+mesh}} An ADA array of resulting screen-\/space triangles. Caller must free result.\+elements. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03038}{3038}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00169}{ada\+\_\+appand}}, \mbox{\hyperlink{Almog__Dynamic__Array_8h_source_l00120}{ada\+\_\+init\+\_\+array}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00094}{ae\+\_\+assert\+\_\+tri\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02870}{ae\+\_\+point\+\_\+project\+\_\+view2screen()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00498}{ae\+\_\+point\+\_\+to\+\_\+mat2\+D()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01487}{ae\+\_\+tri\+\_\+calc\+\_\+light\+\_\+intensity()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01086}{ae\+\_\+tri\+\_\+calc\+\_\+normal()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l01838}{ae\+\_\+tri\+\_\+clip\+\_\+with\+\_\+plane()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l02988}{ae\+\_\+tri\+\_\+transform\+\_\+to\+\_\+view()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00182}{Scene\+::camera}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00146}{Camera\+::current\+\_\+position}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00105}{Tri\+\_\+mesh\+::elements}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00103}{Tri\+\_\+mesh\+::length}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00085}{Tri\+::light\+\_\+intensity}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00527}{mat2\+D\+\_\+sub()}}, \mbox{\hyperlink{Matrix2D_8h_source_l01149}{mat2\+D\+\_\+transpose()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00082}{Tri\+::normals}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00081}{Tri\+::tex\+\_\+points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00084}{Tri\+::to\+\_\+draw}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l00149}{Camera\+::z\+\_\+near}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03151}{ae\+\_\+tri\+\_\+mesh\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a6163eec1246f36c8f1f16f40c436bb14}\label{Almog__Engine_8h_a6163eec1246f36c8f1f16f40c436bb14}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_qsort@{ae\_tri\_qsort}}
\index{ae\_tri\_qsort@{ae\_tri\_qsort}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_qsort()}{ae\_tri\_qsort()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+qsort (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri}{Tri}} $\ast$}]{v,  }\item[{int}]{left,  }\item[{int}]{right }\end{DoxyParamCaption})}



Quicksort an array of triangles by depth. 

Sorts v\mbox{[}left..right\mbox{]} using ae\+\_\+tri\+\_\+compare (descending by max z).


\begin{DoxyParams}{Parameters}
{\em v} & Array of triangles to sort. \\
\hline
{\em left} & Left index (inclusive). \\
\hline
{\em right} & Right index (inclusive). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03742}{3742}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l03725}{ae\+\_\+tri\+\_\+compare()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l03706}{ae\+\_\+tri\+\_\+swap()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a11c1d61181fe9b0d824fb2be51662659}\label{Almog__Engine_8h_a11c1d61181fe9b0d824fb2be51662659}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_set\_normals@{ae\_tri\_set\_normals}}
\index{ae\_tri\_set\_normals@{ae\_tri\_set\_normals}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_set\_normals()}{ae\_tri\_set\_normals()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+set\+\_\+normals (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri}{Tri}} $\ast$}]{tri }\end{DoxyParamCaption})}



Compute and set per-\/vertex normals for a triangle. 

For each vertex, computes the cross product of the adjacent edges around that vertex and normalizes it. Results are stored in tri-\/$>$normals\mbox{[}i\mbox{]}.


\begin{DoxyParams}{Parameters}
{\em tri} & Triangle whose normals will be computed and written. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l00998}{998}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00094}{ae\+\_\+assert\+\_\+tri\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00522}{ae\+\_\+mat2\+D\+\_\+to\+\_\+point()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00498}{ae\+\_\+point\+\_\+to\+\_\+mat2\+D()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00768}{mat2\+D\+\_\+copy()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00479}{mat2\+D\+\_\+cross()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00184}{mat2\+D\+\_\+normalize}}, \mbox{\hyperlink{Matrix2D_8h_source_l00527}{mat2\+D\+\_\+sub()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00082}{Tri\+::normals}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l01283}{ae\+\_\+tri\+\_\+mesh\+\_\+flip\+\_\+normals()}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l01321}{ae\+\_\+tri\+\_\+mesh\+\_\+set\+\_\+normals()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a4140d91e2951f6867592ed4dd685b5b3}\label{Almog__Engine_8h_a4140d91e2951f6867592ed4dd685b5b3}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_swap@{ae\_tri\_swap}}
\index{ae\_tri\_swap@{ae\_tri\_swap}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_swap()}{ae\_tri\_swap()}}
{\footnotesize\ttfamily void ae\+\_\+tri\+\_\+swap (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTri}{Tri}} $\ast$}]{v,  }\item[{int}]{i,  }\item[{int}]{j }\end{DoxyParamCaption})}



Swap two triangles in an array. 


\begin{DoxyParams}{Parameters}
{\em v} & Array of triangles. \\
\hline
{\em i} & Index of first element. \\
\hline
{\em j} & Index of second element. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03706}{3706}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03742}{ae\+\_\+tri\+\_\+qsort()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a1c1797fd06019133cacb5329fa1fe24e}\label{Almog__Engine_8h_a1c1797fd06019133cacb5329fa1fe24e}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_tri\_transform\_to\_view@{ae\_tri\_transform\_to\_view}}
\index{ae\_tri\_transform\_to\_view@{ae\_tri\_transform\_to\_view}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_tri\_transform\_to\_view()}{ae\_tri\_transform\_to\_view()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structTri}{Tri}} ae\+\_\+tri\+\_\+transform\+\_\+to\+\_\+view (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structTri}{Tri}}}]{tri }\end{DoxyParamCaption})}



Transform a triangle from world space to view space. 

Applies view\+\_\+mat to each vertex (homogeneous multiply with w=1). Returns the transformed triangle; normals are not changed.


\begin{DoxyParams}{Parameters}
{\em view\+\_\+mat} & View matrix (4x4). \\
\hline
{\em tri} & World-\/space triangle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structTri}{Tri}} View-\/space triangle. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l02988}{2988}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00044}{AE\+\_\+\+ASSERT}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00094}{ae\+\_\+assert\+\_\+tri\+\_\+is\+\_\+valid}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00424}{mat2\+D\+\_\+dot()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00080}{Tri\+::points}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00054}{Point\+::w}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00051}{Point\+::x}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00052}{Point\+::y}}, and \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00053}{Point\+::z}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l03038}{ae\+\_\+tri\+\_\+project\+\_\+world2screen()}}.

\mbox{\Hypertarget{Almog__Engine_8h_a973977dd2f135de3e1091cf8bbd0f7ff}\label{Almog__Engine_8h_a973977dd2f135de3e1091cf8bbd0f7ff}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_view\_mat\_set@{ae\_view\_mat\_set}}
\index{ae\_view\_mat\_set@{ae\_view\_mat\_set}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_view\_mat\_set()}{ae\_view\_mat\_set()}}
{\footnotesize\ttfamily void ae\+\_\+view\+\_\+mat\+\_\+set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{view\+\_\+mat,  }\item[{\mbox{\hyperlink{structCamera}{Camera}}}]{camera,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{up }\end{DoxyParamCaption})}



Build a right-\/handed view matrix from a \mbox{\hyperlink{structCamera}{Camera}} and up vector. 

Computes camera basis (right, up, forward) from yaw/pitch/roll offsets and direction, applies offset\+\_\+position along those axes to update current\+\_\+position, then zeroes offset\+\_\+position. Writes the resulting 4x4 view matrix.

\begin{DoxyNote}{Note}
Although camera is passed by value, its \mbox{\hyperlink{structMat2D}{Mat2D}} members (e.\+g. current\+\_\+position, offset\+\_\+position, camera\+\_\+x/y/z) are modified in place due to internal pointer semantics of \mbox{\hyperlink{structMat2D}{Mat2D}}.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em view\+\_\+mat} & Output 4x4 view matrix. \\
\hline
{\em camera} & \mbox{\hyperlink{structCamera}{Camera}} state (basis vectors and positions updated). \\
\hline
{\em up} & World up direction (3x1). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l02716}{2716}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l00156}{Camera\+::camera\+\_\+x}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00157}{Camera\+::camera\+\_\+y}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00158}{Camera\+::camera\+\_\+z}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00146}{Camera\+::current\+\_\+position}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00148}{Camera\+::direction}}, \mbox{\hyperlink{Matrix2D_8h_source_l00496}{mat2\+D\+\_\+add()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00278}{mat2\+D\+\_\+alloc()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00931}{mat2\+D\+\_\+calc\+\_\+norma()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00768}{mat2\+D\+\_\+copy()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00479}{mat2\+D\+\_\+cross()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00424}{mat2\+D\+\_\+dot()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00450}{mat2\+D\+\_\+dot\+\_\+product()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00362}{mat2\+D\+\_\+fill()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00314}{mat2\+D\+\_\+free()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00557}{mat2\+D\+\_\+mult()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00743}{mat2\+D\+\_\+set\+\_\+\+DCM\+\_\+zyx()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00527}{mat2\+D\+\_\+sub()}}, \mbox{\hyperlink{Matrix2D_8h_source_l01149}{mat2\+D\+\_\+transpose()}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00147}{Camera\+::offset\+\_\+position}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00154}{Camera\+::pitch\+\_\+offset\+\_\+deg}}, \mbox{\hyperlink{Almog__Engine_8h_source_l00153}{Camera\+::roll\+\_\+offset\+\_\+deg}}, and \mbox{\hyperlink{Almog__Engine_8h_source_l00155}{Camera\+::yaw\+\_\+offset\+\_\+deg}}.



Referenced by \mbox{\hyperlink{Almog__Engine_8h_source_l00388}{ae\+\_\+scene\+\_\+init()}}, and \mbox{\hyperlink{grid__example_8c_source_l00023}{update()}}.

\mbox{\Hypertarget{Almog__Engine_8h_aa9ee39b8a678005ae0d531d9d1356a30}\label{Almog__Engine_8h_aa9ee39b8a678005ae0d531d9d1356a30}} 
\index{Almog\_Engine.h@{Almog\_Engine.h}!ae\_z\_buffer\_copy\_to\_screen@{ae\_z\_buffer\_copy\_to\_screen}}
\index{ae\_z\_buffer\_copy\_to\_screen@{ae\_z\_buffer\_copy\_to\_screen}!Almog\_Engine.h@{Almog\_Engine.h}}
\doxysubsubsection{\texorpdfstring{ae\_z\_buffer\_copy\_to\_screen()}{ae\_z\_buffer\_copy\_to\_screen()}}
{\footnotesize\ttfamily void ae\+\_\+z\+\_\+buffer\+\_\+copy\+\_\+to\+\_\+screen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structMat2D__uint32}{Mat2\+D\+\_\+uint32}}}]{screen\+\_\+mat,  }\item[{\mbox{\hyperlink{structMat2D}{Mat2D}}}]{inv\+\_\+z\+\_\+buffer }\end{DoxyParamCaption})}



Visualize an inverse-\/z buffer by writing a grayscale image. 

Finds the min positive and max inverse-\/z in inv\+\_\+z\+\_\+buffer, maps the range to \mbox{[}0.\+1, 1.\+0\mbox{]}, and writes an RGB grayscale value into screen\+\_\+mat at each pixel. Values $<$= 0 are clamped to the minimum positive.


\begin{DoxyParams}{Parameters}
{\em screen\+\_\+mat} & Output RGB image (\mbox{\hyperlink{structMat2D__uint32}{Mat2\+D\+\_\+uint32}}) 0x\+RRGGBB per pixel. \\
\hline
{\em inv\+\_\+z\+\_\+buffer} & Input inverse-\/z values (\mbox{\hyperlink{structMat2D}{Mat2D}} of doubles). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{Almog__Engine_8h_source_l03785}{3785}} of file \mbox{\hyperlink{Almog__Engine_8h_source}{Almog\+\_\+\+Engine.\+h}}.



References \mbox{\hyperlink{Almog__Engine_8h_source_l03770}{ae\+\_\+linear\+\_\+map()}}, \mbox{\hyperlink{Matrix2D_8h_source_l00083}{Mat2\+D\+::cols}}, \mbox{\hyperlink{Matrix2D_8h_source_l00145}{MAT2\+D\+\_\+\+AT}}, \mbox{\hyperlink{Matrix2D_8h_source_l00146}{MAT2\+D\+\_\+\+AT\+\_\+\+UINT32}}, \mbox{\hyperlink{Almog__Draw__Library_8h_source_l00163}{RGB\+\_\+hex\+RGB}}, and \mbox{\hyperlink{Matrix2D_8h_source_l00082}{Mat2\+D\+::rows}}.

