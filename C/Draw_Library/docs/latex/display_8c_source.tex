\hypertarget{display_8c_source}{}\doxysection{display.\+c}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#include <SDL2/SDL.h>}}
\DoxyCodeLine{00002 \textcolor{preprocessor}{\#include <SDL2/SDL\_ttf.h>}}
\DoxyCodeLine{00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Matrix2D_8h}{Matrix2D.h}}"{}}}
\DoxyCodeLine{00004 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{00005 \textcolor{preprocessor}{\#include <stdint.h>}}
\DoxyCodeLine{00006 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Almog__Draw__Library_8h}{Almog\_Draw\_Library.h}}"{}}}
\DoxyCodeLine{00007 }
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#ifndef WINDOW\_WIDTH}}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00009}\mbox{\hyperlink{display_8c_a498d9f026138406895e9a34b504ac6a6}{00009}} \textcolor{preprocessor}{\#define WINDOW\_WIDTH (16 * 80)}}
\DoxyCodeLine{00010 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012 \textcolor{preprocessor}{\#ifndef WINDOW\_HEIGHT}}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00013}\mbox{\hyperlink{display_8c_a5473cf64fa979b48335079c99532e243}{00013}} \textcolor{preprocessor}{\#define WINDOW\_HEIGHT (9 * 80)}}
\DoxyCodeLine{00014 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00015 }
\DoxyCodeLine{00016 \textcolor{preprocessor}{\#ifndef FPS}}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00017}\mbox{\hyperlink{display_8c_ac92ca5ab87034a348decad7ee8d4bd1b}{00017}} \textcolor{preprocessor}{\#define FPS 100}}
\DoxyCodeLine{00018 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00019 }
\DoxyCodeLine{00020 \textcolor{preprocessor}{\#ifndef FRAME\_TARGET\_TIME}}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00021}\mbox{\hyperlink{display_8c_ad9bc53a358319625d023bee296e683f9}{00021}} \textcolor{preprocessor}{\#define FRAME\_TARGET\_TIME (1000 / FPS)}}
\DoxyCodeLine{00022 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00023 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00024}\mbox{\hyperlink{display_8c_a8a10eb1b51de8ec7f32760fc42a499d3}{00024}} \textcolor{preprocessor}{\#define dprintSTRING(expr) printf(\#expr "{} = \%s\(\backslash\)n"{}}, expr)}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00025}\mbox{\hyperlink{display_8c_a8b63874b09e98605eddc71b18323ceaf}{00025}} \textcolor{preprocessor}{\#define dprintCHAR(expr) printf(\#expr "{} = \%c\(\backslash\)n"{}}, expr)}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00026}\mbox{\hyperlink{display_8c_ad6ee5604ae166c2578fb919ba8047d32}{00026}} \textcolor{preprocessor}{\#define dprintINT(expr) printf(\#expr "{} = \%d\(\backslash\)n"{}}, expr)}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00027}\mbox{\hyperlink{display_8c_a09101bb7984231d49fae12c5dd510882}{00027}} \textcolor{preprocessor}{\#define dprintD(expr) printf(\#expr "{} = \%g\(\backslash\)n"{}}, expr)}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00028}\mbox{\hyperlink{display_8c_a44ef8de62cc4802e6e2d52716d9ea342}{00028}} \textcolor{preprocessor}{\#define dprintSIZE\_T(expr) printf(\#expr "{} = \%zu\(\backslash\)n"{}}, expr)}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030 \textcolor{preprocessor}{\#ifndef PI}}
\DoxyCodeLine{00031 \textcolor{preprocessor}{    \#ifndef \_\_USE\_MISC}}
\DoxyCodeLine{00032 \textcolor{preprocessor}{    \#define \_\_USE\_MISC}}
\DoxyCodeLine{00033 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{00034 \textcolor{preprocessor}{    \#include <math.h>}}
\DoxyCodeLine{00035 \textcolor{preprocessor}{    \#define PI M\_PI}}
\DoxyCodeLine{00036 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00037 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00038}\mbox{\hyperlink{structgame__state__t}{00038}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00039}\mbox{\hyperlink{structgame__state__t_a173566254b94b77f82a2c4a772eb4b2f}{00039}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a173566254b94b77f82a2c4a772eb4b2f}{game\_is\_running}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00040}\mbox{\hyperlink{structgame__state__t_a3fae340e0ea4b143bcb7b04544cab7ce}{00040}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{structgame__state__t_a3fae340e0ea4b143bcb7b04544cab7ce}{delta\_time}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00041}\mbox{\hyperlink{structgame__state__t_ae461a66325998fb4664b30c33d70f6b9}{00041}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{structgame__state__t_ae461a66325998fb4664b30c33d70f6b9}{elapsed\_time}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00042}\mbox{\hyperlink{structgame__state__t_a5863c33c1eca16ae2e020385aeefcada}{00042}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{structgame__state__t_a5863c33c1eca16ae2e020385aeefcada}{const\_fps}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00043}\mbox{\hyperlink{structgame__state__t_aeaa4ff862bd51a350b59446cc9da619c}{00043}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{structgame__state__t_aeaa4ff862bd51a350b59446cc9da619c}{fps}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00044}\mbox{\hyperlink{structgame__state__t_a6d6fd9ead4b6d042a35da0c813a8ad5c}{00044}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{structgame__state__t_a6d6fd9ead4b6d042a35da0c813a8ad5c}{frame\_target\_time}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00045}\mbox{\hyperlink{structgame__state__t_ac097087a8e2cbf1dc166ce3cb3feae6e}{00045}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_ac097087a8e2cbf1dc166ce3cb3feae6e}{to\_render}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00046}\mbox{\hyperlink{structgame__state__t_adf6de1fece0bb3d4fd31ad35a9772948}{00046}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_adf6de1fece0bb3d4fd31ad35a9772948}{to\_update}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00047}\mbox{\hyperlink{structgame__state__t_a5c762f7ad6830eddac004d0b45ef2487}{00047}}     \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structgame__state__t_a5c762f7ad6830eddac004d0b45ef2487}{previous\_frame\_time}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00048}\mbox{\hyperlink{structgame__state__t_a5ea9152ea315a5bc84bb7d90584ca747}{00048}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a5ea9152ea315a5bc84bb7d90584ca747}{left\_button\_pressed}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00049}\mbox{\hyperlink{structgame__state__t_a8e6cb4795386cf591de467c4506fa4b5}{00049}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a8e6cb4795386cf591de467c4506fa4b5}{to\_limit\_fps}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00050}\mbox{\hyperlink{structgame__state__t_a0105044878e3ffe83950903a59ea3566}{00050}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a0105044878e3ffe83950903a59ea3566}{to\_clear\_renderer}};}
\DoxyCodeLine{00051 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00052}\mbox{\hyperlink{structgame__state__t_a70e2cdada86a958a04d7449747b6c306}{00052}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a70e2cdada86a958a04d7449747b6c306}{space\_bar\_was\_pressed}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00053}\mbox{\hyperlink{structgame__state__t_a55e6631a7831b7536cae798d52df449c}{00053}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a55e6631a7831b7536cae798d52df449c}{w\_was\_pressed}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00054}\mbox{\hyperlink{structgame__state__t_a9fb74517862b22011180665f3acddae4}{00054}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a9fb74517862b22011180665f3acddae4}{s\_was\_pressed}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00055}\mbox{\hyperlink{structgame__state__t_a0bc087b7eab63d15a089aec8a11cbcc3}{00055}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a0bc087b7eab63d15a089aec8a11cbcc3}{a\_was\_pressed}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00056}\mbox{\hyperlink{structgame__state__t_a8a1ffcf9031e2beeac59546da9a9d79f}{00056}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a8a1ffcf9031e2beeac59546da9a9d79f}{d\_was\_pressed}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00057}\mbox{\hyperlink{structgame__state__t_af229dff663c775ac3bbe218351c5e161}{00057}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_af229dff663c775ac3bbe218351c5e161}{e\_was\_pressed}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00058}\mbox{\hyperlink{structgame__state__t_a5b9c222c24711ef8092545ea9ed747a3}{00058}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a5b9c222c24711ef8092545ea9ed747a3}{q\_was\_pressed}};}
\DoxyCodeLine{00059 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00060}\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{00060}}     SDL\_Window *\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{window}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00061}\mbox{\hyperlink{structgame__state__t_a5c85c4e78568f0993d9c4f755f3379b4}{00061}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a5c85c4e78568f0993d9c4f755f3379b4}{window\_w}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00062}\mbox{\hyperlink{structgame__state__t_a7d42d12ab1d6091af0c7529d9f4030f1}{00062}}     \textcolor{keywordtype}{int} \mbox{\hyperlink{structgame__state__t_a7d42d12ab1d6091af0c7529d9f4030f1}{window\_h}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00063}\mbox{\hyperlink{structgame__state__t_aaa547b5615c3ac5375557a9bf8ff4a7e}{00063}}     SDL\_Renderer *\mbox{\hyperlink{structgame__state__t_aaa547b5615c3ac5375557a9bf8ff4a7e}{renderer}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00064}\mbox{\hyperlink{structgame__state__t_a5ce4da47a9451d95a3e88a928dfb6b0b}{00064}}     TTF\_Font *\mbox{\hyperlink{structgame__state__t_a5ce4da47a9451d95a3e88a928dfb6b0b}{font}};}
\DoxyCodeLine{00065 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00066}\mbox{\hyperlink{structgame__state__t_aecd77938a1375613f71e3c398f2bf0e1}{00066}}     SDL\_Surface *\mbox{\hyperlink{structgame__state__t_aecd77938a1375613f71e3c398f2bf0e1}{window\_surface}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00067}\mbox{\hyperlink{structgame__state__t_a667d0523e2e8d5c92ac0cbb46a9df778}{00067}}     SDL\_Texture *\mbox{\hyperlink{structgame__state__t_a667d0523e2e8d5c92ac0cbb46a9df778}{window\_texture}};}
\DoxyCodeLine{00068 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00069}\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{00069}}     \mbox{\hyperlink{structMat2D__uint32}{Mat2D\_uint32}} \mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}};}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00070}\mbox{\hyperlink{structgame__state__t_a501509da5b0917cc975b96a3b73575d7}{00070}}     \mbox{\hyperlink{structMat2D}{Mat2D}} \mbox{\hyperlink{structgame__state__t_a501509da5b0917cc975b96a3b73575d7}{inv\_z\_buffer\_mat}};}
\DoxyCodeLine{00071 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00072}\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{00072}}     \mbox{\hyperlink{structOffset__zoom__param}{Offset\_zoom\_param}} \mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}};}
\DoxyCodeLine{00073 \} \mbox{\hyperlink{structgame__state__t}{game\_state\_t}};}
\DoxyCodeLine{00074 }
\DoxyCodeLine{00075 \textcolor{keywordtype}{int} \mbox{\hyperlink{display_8c_a0dbd5a6b3831465b06dcf2119dafef6e}{initialize\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00076 \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a747df082ba281c7cc34610740c8a9c04}{setup\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00077 \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a5069f9adbb79bf4e58d3f016fca3f44a}{process\_input\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00078 \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a71cb7794ec1c8a9479897d30f40262ea}{update\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00079 \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_abe1c145aff2869418160eca444036f8b}{render\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00080 \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_ad4200915725a69b5e7ca4015d7351931}{destroy\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00081 \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a472b9473e7ec408167d222c5e31c8b47}{fix\_framerate}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00082 \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_ab919e5f7eac1e9022a91a3a237b2951a}{setup}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00083 \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a7f53f0ea95214cad6d6593c69f696bb1}{update}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00084 \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a189f73f504256a3c91c9b7741b956c69}{render}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00085 }
\DoxyCodeLine{00086 \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a1704b06e2a87c63c8017dc2507191cea}{check\_window\_mat\_size}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00087 \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a3279af675ec492a0b025d28973026251}{copy\_mat\_to\_surface\_RGB}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state);}
\DoxyCodeLine{00088 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00089}\mbox{\hyperlink{display_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{00089}} \textcolor{keywordtype}{int} \mbox{\hyperlink{display_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}}()}
\DoxyCodeLine{00090 \{}
\DoxyCodeLine{00091     \mbox{\hyperlink{structgame__state__t}{game\_state\_t}} game\_state = \{0\};}
\DoxyCodeLine{00092 }
\DoxyCodeLine{00093     game\_state.\mbox{\hyperlink{structgame__state__t_a173566254b94b77f82a2c4a772eb4b2f}{game\_is\_running}} = 0;}
\DoxyCodeLine{00094     game\_state.\mbox{\hyperlink{structgame__state__t_a3fae340e0ea4b143bcb7b04544cab7ce}{delta\_time}} = 0;}
\DoxyCodeLine{00095     game\_state.\mbox{\hyperlink{structgame__state__t_ae461a66325998fb4664b30c33d70f6b9}{elapsed\_time}} = 0;}
\DoxyCodeLine{00096     game\_state.\mbox{\hyperlink{structgame__state__t_a5863c33c1eca16ae2e020385aeefcada}{const\_fps}} = \mbox{\hyperlink{display_8c_ac92ca5ab87034a348decad7ee8d4bd1b}{FPS}};}
\DoxyCodeLine{00097     game\_state.\mbox{\hyperlink{structgame__state__t_aeaa4ff862bd51a350b59446cc9da619c}{fps}} = 0;}
\DoxyCodeLine{00098     game\_state.\mbox{\hyperlink{structgame__state__t_a6d6fd9ead4b6d042a35da0c813a8ad5c}{frame\_target\_time}} = \mbox{\hyperlink{display_8c_ad9bc53a358319625d023bee296e683f9}{FRAME\_TARGET\_TIME}};}
\DoxyCodeLine{00099 }
\DoxyCodeLine{00100     game\_state.\mbox{\hyperlink{structgame__state__t_a70e2cdada86a958a04d7449747b6c306}{space\_bar\_was\_pressed}} = 0;}
\DoxyCodeLine{00101     game\_state.\mbox{\hyperlink{structgame__state__t_a55e6631a7831b7536cae798d52df449c}{w\_was\_pressed}} = 0;}
\DoxyCodeLine{00102     game\_state.\mbox{\hyperlink{structgame__state__t_a9fb74517862b22011180665f3acddae4}{s\_was\_pressed}} = 0;}
\DoxyCodeLine{00103     game\_state.\mbox{\hyperlink{structgame__state__t_a0bc087b7eab63d15a089aec8a11cbcc3}{a\_was\_pressed}} = 0;}
\DoxyCodeLine{00104     game\_state.\mbox{\hyperlink{structgame__state__t_a8a1ffcf9031e2beeac59546da9a9d79f}{d\_was\_pressed}} = 0;}
\DoxyCodeLine{00105     game\_state.\mbox{\hyperlink{structgame__state__t_af229dff663c775ac3bbe218351c5e161}{e\_was\_pressed}} = 0;}
\DoxyCodeLine{00106     game\_state.\mbox{\hyperlink{structgame__state__t_a5b9c222c24711ef8092545ea9ed747a3}{q\_was\_pressed}} = 0;}
\DoxyCodeLine{00107 }
\DoxyCodeLine{00108     game\_state.\mbox{\hyperlink{structgame__state__t_ac097087a8e2cbf1dc166ce3cb3feae6e}{to\_render}} = 1;}
\DoxyCodeLine{00109     game\_state.\mbox{\hyperlink{structgame__state__t_adf6de1fece0bb3d4fd31ad35a9772948}{to\_update}} = 1;}
\DoxyCodeLine{00110     game\_state.\mbox{\hyperlink{structgame__state__t_a5c762f7ad6830eddac004d0b45ef2487}{previous\_frame\_time}} = 0;}
\DoxyCodeLine{00111     game\_state.\mbox{\hyperlink{structgame__state__t_a5ea9152ea315a5bc84bb7d90584ca747}{left\_button\_pressed}} = 0;}
\DoxyCodeLine{00112     game\_state.\mbox{\hyperlink{structgame__state__t_a8e6cb4795386cf591de467c4506fa4b5}{to\_limit\_fps}} = 1;}
\DoxyCodeLine{00113     game\_state.\mbox{\hyperlink{structgame__state__t_a0105044878e3ffe83950903a59ea3566}{to\_clear\_renderer}} = 1;}
\DoxyCodeLine{00114     game\_state.\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{window}} = NULL;}
\DoxyCodeLine{00115     game\_state.\mbox{\hyperlink{structgame__state__t_a5c85c4e78568f0993d9c4f755f3379b4}{window\_w}} = \mbox{\hyperlink{display_8c_a498d9f026138406895e9a34b504ac6a6}{WINDOW\_WIDTH}};}
\DoxyCodeLine{00116     game\_state.\mbox{\hyperlink{structgame__state__t_a7d42d12ab1d6091af0c7529d9f4030f1}{window\_h}} = \mbox{\hyperlink{display_8c_a5473cf64fa979b48335079c99532e243}{WINDOW\_HEIGHT}};}
\DoxyCodeLine{00117     game\_state.\mbox{\hyperlink{structgame__state__t_aaa547b5615c3ac5375557a9bf8ff4a7e}{renderer}} = NULL;}
\DoxyCodeLine{00118     game\_state.\mbox{\hyperlink{structgame__state__t_a5ce4da47a9451d95a3e88a928dfb6b0b}{font}} = NULL;}
\DoxyCodeLine{00119 }
\DoxyCodeLine{00120     game\_state.\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}} = 1;}
\DoxyCodeLine{00121 }
\DoxyCodeLine{00122     game\_state.\mbox{\hyperlink{structgame__state__t_a173566254b94b77f82a2c4a772eb4b2f}{game\_is\_running}} = !\mbox{\hyperlink{display_8c_a0dbd5a6b3831465b06dcf2119dafef6e}{initialize\_window}}(\&game\_state);}
\DoxyCodeLine{00123 }
\DoxyCodeLine{00124     \mbox{\hyperlink{display_8c_a747df082ba281c7cc34610740c8a9c04}{setup\_window}}(\&game\_state);}
\DoxyCodeLine{00125 }
\DoxyCodeLine{00126     \textcolor{keywordflow}{while} (game\_state.\mbox{\hyperlink{structgame__state__t_a173566254b94b77f82a2c4a772eb4b2f}{game\_is\_running}}) \{}
\DoxyCodeLine{00127         \mbox{\hyperlink{display_8c_a5069f9adbb79bf4e58d3f016fca3f44a}{process\_input\_window}}(\&game\_state);}
\DoxyCodeLine{00128         \textcolor{keywordflow}{if} (game\_state.\mbox{\hyperlink{structgame__state__t_adf6de1fece0bb3d4fd31ad35a9772948}{to\_update}}) \{}
\DoxyCodeLine{00129             \mbox{\hyperlink{display_8c_a71cb7794ec1c8a9479897d30f40262ea}{update\_window}}(\&game\_state);}
\DoxyCodeLine{00130         \}}
\DoxyCodeLine{00131         \textcolor{keywordflow}{if} (game\_state.\mbox{\hyperlink{structgame__state__t_ac097087a8e2cbf1dc166ce3cb3feae6e}{to\_render}}) \{}
\DoxyCodeLine{00132             \mbox{\hyperlink{display_8c_abe1c145aff2869418160eca444036f8b}{render\_window}}(\&game\_state);}
\DoxyCodeLine{00133         \}}
\DoxyCodeLine{00134         }
\DoxyCodeLine{00135     \}}
\DoxyCodeLine{00136     \mbox{\hyperlink{display_8c_ad4200915725a69b5e7ca4015d7351931}{destroy\_window}}(\&game\_state);}
\DoxyCodeLine{00137 }
\DoxyCodeLine{00138     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00139 \}}
\DoxyCodeLine{00140 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00141}\mbox{\hyperlink{display_8c_a0dbd5a6b3831465b06dcf2119dafef6e}{00141}} \textcolor{keywordtype}{int} \mbox{\hyperlink{display_8c_a0dbd5a6b3831465b06dcf2119dafef6e}{initialize\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state)}
\DoxyCodeLine{00142 \{}
\DoxyCodeLine{00143     \textcolor{keywordflow}{if} (SDL\_Init(SDL\_INIT\_EVERYTHING) != 0) \{}
\DoxyCodeLine{00144         fprintf(stderr, \textcolor{stringliteral}{"{}\%s:\%d: [Error] initializing SDL.\(\backslash\)n"{}}, \_\_FILE\_\_, \_\_LINE\_\_);}
\DoxyCodeLine{00145         \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00146     \}}
\DoxyCodeLine{00147 }
\DoxyCodeLine{00148     game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{window}} = SDL\_CreateWindow(NULL,}
\DoxyCodeLine{00149                               SDL\_WINDOWPOS\_CENTERED,}
\DoxyCodeLine{00150                               SDL\_WINDOWPOS\_CENTERED,}
\DoxyCodeLine{00151                               game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5c85c4e78568f0993d9c4f755f3379b4}{window\_w}},}
\DoxyCodeLine{00152                               game\_state-\/>\mbox{\hyperlink{structgame__state__t_a7d42d12ab1d6091af0c7529d9f4030f1}{window\_h}},}
\DoxyCodeLine{00153                               SDL\_WINDOW\_RESIZABLE}
\DoxyCodeLine{00154                               );}
\DoxyCodeLine{00155     \textcolor{keywordflow}{if} (!game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{window}}) \{}
\DoxyCodeLine{00156         fprintf(stderr, \textcolor{stringliteral}{"{}\%s:\%d: [Error] creating SDL window.\(\backslash\)n"{}}, \_\_FILE\_\_, \_\_LINE\_\_);}
\DoxyCodeLine{00157         \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00158     \}}
\DoxyCodeLine{00159 }
\DoxyCodeLine{00160     game\_state-\/>\mbox{\hyperlink{structgame__state__t_aaa547b5615c3ac5375557a9bf8ff4a7e}{renderer}} = SDL\_CreateRenderer(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{window}}, -\/1, 0);}
\DoxyCodeLine{00161     \textcolor{keywordflow}{if} (!game\_state-\/>\mbox{\hyperlink{structgame__state__t_aaa547b5615c3ac5375557a9bf8ff4a7e}{renderer}}) \{}
\DoxyCodeLine{00162         fprintf(stderr, \textcolor{stringliteral}{"{}\%s:\%d: [Error] creating SDL renderer.\(\backslash\)n"{}}, \_\_FILE\_\_, \_\_LINE\_\_);}
\DoxyCodeLine{00163         \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00164     \}}
\DoxyCodeLine{00165 }
\DoxyCodeLine{00166     \textcolor{keywordflow}{if} (TTF\_Init() == -\/1) \{}
\DoxyCodeLine{00167         fprintf(stderr, \textcolor{stringliteral}{"{}\%s:\%d: [Error] initializing SDL\_ttf.\(\backslash\)n"{}}, \_\_FILE\_\_, \_\_LINE\_\_);}
\DoxyCodeLine{00168         \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00169     \}}
\DoxyCodeLine{00170 }
\DoxyCodeLine{00171     \textcolor{comment}{// game\_state-\/>font = TTF\_OpenFont("{}./font/Gabriely Black.ttf"{},32);}}
\DoxyCodeLine{00172     \textcolor{comment}{// if (!game\_state-\/>font) \{}}
\DoxyCodeLine{00173     \textcolor{comment}{//     fprintf(stderr, "{}\%s:\%d: [Error] loading font.\(\backslash\)n"{}, \_\_FILE\_\_, \_\_LINE\_\_);}}
\DoxyCodeLine{00174     \textcolor{comment}{//     return -\/1;}}
\DoxyCodeLine{00175     \textcolor{comment}{// \}}}
\DoxyCodeLine{00176 }
\DoxyCodeLine{00177     (void)game\_state;}
\DoxyCodeLine{00178     }
\DoxyCodeLine{00179     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00180 \}}
\DoxyCodeLine{00181 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00182}\mbox{\hyperlink{display_8c_a747df082ba281c7cc34610740c8a9c04}{00182}} \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a747df082ba281c7cc34610740c8a9c04}{setup\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state)}
\DoxyCodeLine{00183 \{}
\DoxyCodeLine{00184 }
\DoxyCodeLine{00185     game\_state-\/>\mbox{\hyperlink{structgame__state__t_aecd77938a1375613f71e3c398f2bf0e1}{window\_surface}} = SDL\_GetWindowSurface(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{window}});}
\DoxyCodeLine{00186 }
\DoxyCodeLine{00187     game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}} = \mbox{\hyperlink{Matrix2D_8h_adac1c1ab9a90014bf3c1cd0bb8381a90}{mat2D\_alloc\_uint32}}(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a7d42d12ab1d6091af0c7529d9f4030f1}{window\_h}}, game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5c85c4e78568f0993d9c4f755f3379b4}{window\_w}});}
\DoxyCodeLine{00188     game\_state-\/>\mbox{\hyperlink{structgame__state__t_a501509da5b0917cc975b96a3b73575d7}{inv\_z\_buffer\_mat}} = \mbox{\hyperlink{Matrix2D_8h_aea533ae4263119e0abba26e2d87182dd}{mat2D\_alloc}}(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a7d42d12ab1d6091af0c7529d9f4030f1}{window\_h}}, game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5c85c4e78568f0993d9c4f755f3379b4}{window\_w}});}
\DoxyCodeLine{00189 }
\DoxyCodeLine{00190     \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00191 }
\DoxyCodeLine{00192     \mbox{\hyperlink{display_8c_ab919e5f7eac1e9022a91a3a237b2951a}{setup}}(game\_state);}
\DoxyCodeLine{00193 }
\DoxyCodeLine{00194 \}}
\DoxyCodeLine{00195 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00196}\mbox{\hyperlink{display_8c_a5069f9adbb79bf4e58d3f016fca3f44a}{00196}} \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a5069f9adbb79bf4e58d3f016fca3f44a}{process\_input\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state)}
\DoxyCodeLine{00197 \{}
\DoxyCodeLine{00198     SDL\_Event event;}
\DoxyCodeLine{00199     \textcolor{keywordflow}{while} (SDL\_PollEvent(\&event)) \{}
\DoxyCodeLine{00200         \textcolor{keywordflow}{switch} (event.type) \{}
\DoxyCodeLine{00201             \textcolor{keywordflow}{case} SDL\_QUIT:}
\DoxyCodeLine{00202                 game\_state-\/>\mbox{\hyperlink{structgame__state__t_a173566254b94b77f82a2c4a772eb4b2f}{game\_is\_running}} = 0;}
\DoxyCodeLine{00203                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{00204             \textcolor{keywordflow}{case} SDL\_KEYDOWN:}
\DoxyCodeLine{00205                 \textcolor{keywordflow}{if} (event.key.keysym.sym == SDLK\_ESCAPE) \{}
\DoxyCodeLine{00206                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_a173566254b94b77f82a2c4a772eb4b2f}{game\_is\_running}} = 0;}
\DoxyCodeLine{00207                 \}}
\DoxyCodeLine{00208                 \textcolor{keywordflow}{if} (event.key.keysym.sym == SDLK\_SPACE) \{}
\DoxyCodeLine{00209                     \textcolor{keywordflow}{if} (!game\_state-\/>\mbox{\hyperlink{structgame__state__t_a70e2cdada86a958a04d7449747b6c306}{space\_bar\_was\_pressed}}) \{}
\DoxyCodeLine{00210                         game\_state-\/>\mbox{\hyperlink{structgame__state__t_ac097087a8e2cbf1dc166ce3cb3feae6e}{to\_render}} = 0;}
\DoxyCodeLine{00211                         game\_state-\/>\mbox{\hyperlink{structgame__state__t_adf6de1fece0bb3d4fd31ad35a9772948}{to\_update}} = 0;}
\DoxyCodeLine{00212                         game\_state-\/>\mbox{\hyperlink{structgame__state__t_a70e2cdada86a958a04d7449747b6c306}{space\_bar\_was\_pressed}} = 1;}
\DoxyCodeLine{00213                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00214                     \}}
\DoxyCodeLine{00215                     \textcolor{keywordflow}{if} (game\_state-\/>\mbox{\hyperlink{structgame__state__t_a70e2cdada86a958a04d7449747b6c306}{space\_bar\_was\_pressed}}) \{}
\DoxyCodeLine{00216                         game\_state-\/>\mbox{\hyperlink{structgame__state__t_ac097087a8e2cbf1dc166ce3cb3feae6e}{to\_render}} = 1;}
\DoxyCodeLine{00217                         game\_state-\/>\mbox{\hyperlink{structgame__state__t_adf6de1fece0bb3d4fd31ad35a9772948}{to\_update}} = 1;}
\DoxyCodeLine{00218                         game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5c762f7ad6830eddac004d0b45ef2487}{previous\_frame\_time}} = SDL\_GetTicks();}
\DoxyCodeLine{00219                         game\_state-\/>\mbox{\hyperlink{structgame__state__t_a70e2cdada86a958a04d7449747b6c306}{space\_bar\_was\_pressed}} = 0;}
\DoxyCodeLine{00220                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00221                     \}}
\DoxyCodeLine{00222                 \}}
\DoxyCodeLine{00223                 \textcolor{keywordflow}{if} (event.key.keysym.sym == SDLK\_w) \{}
\DoxyCodeLine{00224                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a8456b409c576fbae5e6c13ba1fbf4f30}{offset\_y}} += 5/game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}};}
\DoxyCodeLine{00225                 \}}
\DoxyCodeLine{00226                 \textcolor{keywordflow}{if} (event.key.keysym.sym == SDLK\_s) \{}
\DoxyCodeLine{00227                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a8456b409c576fbae5e6c13ba1fbf4f30}{offset\_y}} -\/= 5/game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}};}
\DoxyCodeLine{00228                 \}}
\DoxyCodeLine{00229                 \textcolor{keywordflow}{if} (event.key.keysym.sym == SDLK\_a) \{}
\DoxyCodeLine{00230                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a8d6b91e28b53ba7b7e6dd74facf38363}{offset\_x}} += 5/game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}};}
\DoxyCodeLine{00231                 \}}
\DoxyCodeLine{00232                 \textcolor{keywordflow}{if} (event.key.keysym.sym == SDLK\_d) \{}
\DoxyCodeLine{00233                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a8d6b91e28b53ba7b7e6dd74facf38363}{offset\_x}} -\/= 5/game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}};}
\DoxyCodeLine{00234                 \}}
\DoxyCodeLine{00235                 \textcolor{keywordflow}{if} (event.key.keysym.sym == SDLK\_e) \{}
\DoxyCodeLine{00236                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}} += 0.1*game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}};}
\DoxyCodeLine{00237                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}} = fminf(game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}}, \mbox{\hyperlink{Almog__Draw__Library_8h_aa5dfb68d20a2d9a61fcc51827477e574}{ADL\_MAX\_ZOOM}});}
\DoxyCodeLine{00238                 \}}
\DoxyCodeLine{00239                 \textcolor{keywordflow}{if} (event.key.keysym.sym == SDLK\_q) \{}
\DoxyCodeLine{00240                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}} -\/= 0.1*game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}};}
\DoxyCodeLine{00241                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}} = fminf(game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}}, \mbox{\hyperlink{Almog__Draw__Library_8h_aa5dfb68d20a2d9a61fcc51827477e574}{ADL\_MAX\_ZOOM}});}
\DoxyCodeLine{00242                 \}}
\DoxyCodeLine{00243                 \textcolor{keywordflow}{if} (event.key.keysym.sym == SDLK\_r) \{}
\DoxyCodeLine{00244                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a019a25c3b0ac20cc7c2740ebe40e35f9}{zoom\_multiplier}} = 1;}
\DoxyCodeLine{00245                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a8d6b91e28b53ba7b7e6dd74facf38363}{offset\_x}} = 0;}
\DoxyCodeLine{00246                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_afb974313f383df169a69aaa6efa21b00}{offset\_zoom\_param}}.\mbox{\hyperlink{structOffset__zoom__param_a8456b409c576fbae5e6c13ba1fbf4f30}{offset\_y}} = 0;}
\DoxyCodeLine{00247                 \}}
\DoxyCodeLine{00248                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{00249             \textcolor{keywordflow}{case} SDL\_MOUSEBUTTONDOWN:}
\DoxyCodeLine{00250                 \textcolor{keywordflow}{if} (event.button.button == SDL\_BUTTON\_LEFT) \{}
\DoxyCodeLine{00251                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5ea9152ea315a5bc84bb7d90584ca747}{left\_button\_pressed}} = 1;}
\DoxyCodeLine{00252                 \}}
\DoxyCodeLine{00253                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{00254             \textcolor{keywordflow}{case} SDL\_MOUSEBUTTONUP:}
\DoxyCodeLine{00255                 \textcolor{keywordflow}{if} (event.button.button == SDL\_BUTTON\_LEFT) \{}
\DoxyCodeLine{00256                     game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5ea9152ea315a5bc84bb7d90584ca747}{left\_button\_pressed}} = 0;}
\DoxyCodeLine{00257                 \}}
\DoxyCodeLine{00258                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{00259         \}}
\DoxyCodeLine{00260     \}}
\DoxyCodeLine{00261 \}}
\DoxyCodeLine{00262 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00263}\mbox{\hyperlink{display_8c_a71cb7794ec1c8a9479897d30f40262ea}{00263}} \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a71cb7794ec1c8a9479897d30f40262ea}{update\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state)}
\DoxyCodeLine{00264 \{}
\DoxyCodeLine{00265     SDL\_GetWindowSize(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{window}}, \&(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5c85c4e78568f0993d9c4f755f3379b4}{window\_w}}), \&(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a7d42d12ab1d6091af0c7529d9f4030f1}{window\_h}}));}
\DoxyCodeLine{00266 }
\DoxyCodeLine{00267     \mbox{\hyperlink{display_8c_a472b9473e7ec408167d222c5e31c8b47}{fix\_framerate}}(game\_state);}
\DoxyCodeLine{00268     game\_state-\/>\mbox{\hyperlink{structgame__state__t_ae461a66325998fb4664b30c33d70f6b9}{elapsed\_time}} += game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3fae340e0ea4b143bcb7b04544cab7ce}{delta\_time}};}
\DoxyCodeLine{00269     game\_state-\/>\mbox{\hyperlink{structgame__state__t_aeaa4ff862bd51a350b59446cc9da619c}{fps}} = 1.0f / game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3fae340e0ea4b143bcb7b04544cab7ce}{delta\_time}};}
\DoxyCodeLine{00270     game\_state-\/>\mbox{\hyperlink{structgame__state__t_a6d6fd9ead4b6d042a35da0c813a8ad5c}{frame\_target\_time}} = 1000/game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5863c33c1eca16ae2e020385aeefcada}{const\_fps}};}
\DoxyCodeLine{00271 }
\DoxyCodeLine{00272     \textcolor{keywordtype}{char} fps\_count[100];}
\DoxyCodeLine{00273     \textcolor{keywordflow}{if} (!game\_state-\/>\mbox{\hyperlink{structgame__state__t_a8e6cb4795386cf591de467c4506fa4b5}{to\_limit\_fps}}) \{}
\DoxyCodeLine{00274         sprintf(fps\_count, \textcolor{stringliteral}{"{}dt = \%5.02f [ms]"{}}, game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3fae340e0ea4b143bcb7b04544cab7ce}{delta\_time}}*1000);}
\DoxyCodeLine{00275     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00276         sprintf(fps\_count, \textcolor{stringliteral}{"{}FPS = \%5.2f"{}}, game\_state-\/>\mbox{\hyperlink{structgame__state__t_aeaa4ff862bd51a350b59446cc9da619c}{fps}});}
\DoxyCodeLine{00277     \}}
\DoxyCodeLine{00278 }
\DoxyCodeLine{00279     \textcolor{keywordflow}{if} (game\_state-\/>\mbox{\hyperlink{structgame__state__t_ae461a66325998fb4664b30c33d70f6b9}{elapsed\_time}}*10-\/(\textcolor{keywordtype}{int})(game\_state-\/>\mbox{\hyperlink{structgame__state__t_ae461a66325998fb4664b30c33d70f6b9}{elapsed\_time}}*10) < 0.1) \{}
\DoxyCodeLine{00280         SDL\_SetWindowTitle(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{window}}, fps\_count);}
\DoxyCodeLine{00281     \}}
\DoxyCodeLine{00282 }
\DoxyCodeLine{00283     \mbox{\hyperlink{display_8c_a1704b06e2a87c63c8017dc2507191cea}{check\_window\_mat\_size}}(game\_state);}
\DoxyCodeLine{00284 }
\DoxyCodeLine{00285     \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00286 }
\DoxyCodeLine{00287     \mbox{\hyperlink{display_8c_a7f53f0ea95214cad6d6593c69f696bb1}{update}}(game\_state);}
\DoxyCodeLine{00288 }
\DoxyCodeLine{00289 \}}
\DoxyCodeLine{00290 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00291}\mbox{\hyperlink{display_8c_abe1c145aff2869418160eca444036f8b}{00291}} \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_abe1c145aff2869418160eca444036f8b}{render\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state)}
\DoxyCodeLine{00292 \{}
\DoxyCodeLine{00293     \textcolor{keywordflow}{if} (game\_state-\/>\mbox{\hyperlink{structgame__state__t_a0105044878e3ffe83950903a59ea3566}{to\_clear\_renderer}}) \{}
\DoxyCodeLine{00294         \textcolor{comment}{// SDL\_SetRenderDrawColor(game\_state-\/>renderer, HexARGB\_RGBA(0xFF181818));}}
\DoxyCodeLine{00295         \textcolor{comment}{// SDL\_RenderClear(game\_state-\/>renderer);}}
\DoxyCodeLine{00296         \textcolor{comment}{// mat2D\_fill(game\_state-\/>window\_pixels\_mat, 0x181818);}}
\DoxyCodeLine{00297         memset(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}}.\mbox{\hyperlink{structMat2D__uint32_a79e155b6ec688f2dcbf81b878b351cd9}{elements}}, 0x20, \textcolor{keyword}{sizeof}(uint32\_t) * game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}}.\mbox{\hyperlink{structMat2D__uint32_a20afe9ce6a7fd1eebccaf13e4b6ec886}{rows}} * game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}}.\mbox{\hyperlink{structMat2D__uint32_a956aa085cebaf71324dbee36f4a20bb4}{cols}});}
\DoxyCodeLine{00298         \textcolor{comment}{/* not using mat2D\_fill but using memset because it is way faster, so the buffer needs to be of 1/z */}}
\DoxyCodeLine{00299         memset(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a501509da5b0917cc975b96a3b73575d7}{inv\_z\_buffer\_mat}}.\mbox{\hyperlink{structMat2D_a4bfd4e67e3347866bdd5f5149dc170b6}{elements}}, 0x0, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}) * game\_state-\/>\mbox{\hyperlink{structgame__state__t_a501509da5b0917cc975b96a3b73575d7}{inv\_z\_buffer\_mat}}.\mbox{\hyperlink{structMat2D_ae2c1f099d11352ac91db1ff1b0c8ed0a}{rows}} * game\_state-\/>\mbox{\hyperlink{structgame__state__t_a501509da5b0917cc975b96a3b73575d7}{inv\_z\_buffer\_mat}}.\mbox{\hyperlink{structMat2D_ae9c10e24bb9e8d68c3ba96eb1cca3c5c}{cols}});}
\DoxyCodeLine{00300     \}}
\DoxyCodeLine{00301     \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00302 }
\DoxyCodeLine{00303     \mbox{\hyperlink{display_8c_a189f73f504256a3c91c9b7741b956c69}{render}}(game\_state);}
\DoxyCodeLine{00304 }
\DoxyCodeLine{00305     \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00306 }
\DoxyCodeLine{00307     \mbox{\hyperlink{display_8c_a3279af675ec492a0b025d28973026251}{copy\_mat\_to\_surface\_RGB}}(game\_state);}
\DoxyCodeLine{00308     SDL\_UpdateWindowSurface(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{window}});}
\DoxyCodeLine{00309 }
\DoxyCodeLine{00310 \}}
\DoxyCodeLine{00311 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00312}\mbox{\hyperlink{display_8c_ad4200915725a69b5e7ca4015d7351931}{00312}} \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_ad4200915725a69b5e7ca4015d7351931}{destroy\_window}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state)}
\DoxyCodeLine{00313 \{}
\DoxyCodeLine{00314     \mbox{\hyperlink{Matrix2D_8h_a84aaa6e232bb1c89b613d70b3367acb0}{mat2D\_free\_uint32}}(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}});}
\DoxyCodeLine{00315 }
\DoxyCodeLine{00316     \textcolor{keywordflow}{if} (!game\_state-\/>\mbox{\hyperlink{structgame__state__t_aecd77938a1375613f71e3c398f2bf0e1}{window\_surface}}) SDL\_FreeSurface(game\_state-\/>\mbox{\hyperlink{structgame__state__t_aecd77938a1375613f71e3c398f2bf0e1}{window\_surface}});}
\DoxyCodeLine{00317     \textcolor{keywordflow}{if} (!game\_state-\/>\mbox{\hyperlink{structgame__state__t_a667d0523e2e8d5c92ac0cbb46a9df778}{window\_texture}}) SDL\_DestroyTexture(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a667d0523e2e8d5c92ac0cbb46a9df778}{window\_texture}});}
\DoxyCodeLine{00318 }
\DoxyCodeLine{00319     SDL\_DestroyRenderer(game\_state-\/>\mbox{\hyperlink{structgame__state__t_aaa547b5615c3ac5375557a9bf8ff4a7e}{renderer}});}
\DoxyCodeLine{00320     SDL\_DestroyWindow(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{window}});}
\DoxyCodeLine{00321 }
\DoxyCodeLine{00322     SDL\_Quit();}
\DoxyCodeLine{00323 }
\DoxyCodeLine{00324     (void)game\_state;}
\DoxyCodeLine{00325 \}}
\DoxyCodeLine{00326 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00327}\mbox{\hyperlink{display_8c_a472b9473e7ec408167d222c5e31c8b47}{00327}} \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a472b9473e7ec408167d222c5e31c8b47}{fix\_framerate}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state)}
\DoxyCodeLine{00328 \{}
\DoxyCodeLine{00329     \textcolor{keywordtype}{int} time\_ellapsed = SDL\_GetTicks() -\/ game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5c762f7ad6830eddac004d0b45ef2487}{previous\_frame\_time}};}
\DoxyCodeLine{00330     \textcolor{keywordtype}{int} time\_to\_wait = game\_state-\/>\mbox{\hyperlink{structgame__state__t_a6d6fd9ead4b6d042a35da0c813a8ad5c}{frame\_target\_time}} -\/ time\_ellapsed;}
\DoxyCodeLine{00331     \textcolor{keywordflow}{if} (time\_to\_wait > 0 \&\& time\_to\_wait < game\_state-\/>frame\_target\_time) \{}
\DoxyCodeLine{00332         \textcolor{keywordflow}{if} (game\_state-\/>\mbox{\hyperlink{structgame__state__t_a8e6cb4795386cf591de467c4506fa4b5}{to\_limit\_fps}}) \{}
\DoxyCodeLine{00333             SDL\_Delay(time\_to\_wait);}
\DoxyCodeLine{00334         \}}
\DoxyCodeLine{00335     \}}
\DoxyCodeLine{00336     game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3fae340e0ea4b143bcb7b04544cab7ce}{delta\_time}} = (SDL\_GetTicks() -\/ game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5c762f7ad6830eddac004d0b45ef2487}{previous\_frame\_time}}) / 1000.0f;}
\DoxyCodeLine{00337     game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5c762f7ad6830eddac004d0b45ef2487}{previous\_frame\_time}} = SDL\_GetTicks();}
\DoxyCodeLine{00338 \}}
\DoxyCodeLine{00339 }
\DoxyCodeLine{00340 \textcolor{preprocessor}{\#ifndef SETUP}}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00341}\mbox{\hyperlink{display_8c_ac3b15998ba7221fca6fc579b1cd60557}{00341}} \textcolor{preprocessor}{\#define SETUP}}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00342}\mbox{\hyperlink{display_8c_ab919e5f7eac1e9022a91a3a237b2951a}{00342}} \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_ab919e5f7eac1e9022a91a3a237b2951a}{setup}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state) \{ (void)game\_state; \}}
\DoxyCodeLine{00343 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00344 }
\DoxyCodeLine{00345 \textcolor{preprocessor}{\#ifndef UPDATE}}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00346}\mbox{\hyperlink{display_8c_ac2558c32fa879d85fe59f8c5f8dfbc04}{00346}} \textcolor{preprocessor}{\#define UPDATE}}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00347}\mbox{\hyperlink{display_8c_a7f53f0ea95214cad6d6593c69f696bb1}{00347}} \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a7f53f0ea95214cad6d6593c69f696bb1}{update}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state) \{ (void)game\_state; \}}
\DoxyCodeLine{00348 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00349 }
\DoxyCodeLine{00350 \textcolor{preprocessor}{\#ifndef RENDER}}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00351}\mbox{\hyperlink{display_8c_ada165dd53c6f81f42de99c903e5eece0}{00351}} \textcolor{preprocessor}{\#define RENDER}}
\DoxyCodeLine{\Hypertarget{display_8c_source_l00352}\mbox{\hyperlink{display_8c_a189f73f504256a3c91c9b7741b956c69}{00352}} \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a189f73f504256a3c91c9b7741b956c69}{render}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state) \{ (void)game\_state; \}}
\DoxyCodeLine{00353 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00354 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00355}\mbox{\hyperlink{display_8c_a1704b06e2a87c63c8017dc2507191cea}{00355}} \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a1704b06e2a87c63c8017dc2507191cea}{check\_window\_mat\_size}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state)}
\DoxyCodeLine{00356 \{}
\DoxyCodeLine{00357     \textcolor{keywordflow}{if} (game\_state-\/>\mbox{\hyperlink{structgame__state__t_a7d42d12ab1d6091af0c7529d9f4030f1}{window\_h}} != (\textcolor{keywordtype}{int})game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}}.\mbox{\hyperlink{structMat2D__uint32_a20afe9ce6a7fd1eebccaf13e4b6ec886}{rows}} || game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5c85c4e78568f0993d9c4f755f3379b4}{window\_w}} != (\textcolor{keywordtype}{int})game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}}.\mbox{\hyperlink{structMat2D__uint32_a956aa085cebaf71324dbee36f4a20bb4}{cols}}) \{}
\DoxyCodeLine{00358         \mbox{\hyperlink{Matrix2D_8h_a84aaa6e232bb1c89b613d70b3367acb0}{mat2D\_free\_uint32}}(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}});}
\DoxyCodeLine{00359         \mbox{\hyperlink{Matrix2D_8h_a4d2d183b2cb18394e8c7e1e11f97b3ef}{mat2D\_free}}(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a501509da5b0917cc975b96a3b73575d7}{inv\_z\_buffer\_mat}});}
\DoxyCodeLine{00360         SDL\_FreeSurface(game\_state-\/>\mbox{\hyperlink{structgame__state__t_aecd77938a1375613f71e3c398f2bf0e1}{window\_surface}});}
\DoxyCodeLine{00361 }
\DoxyCodeLine{00362         game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}} = \mbox{\hyperlink{Matrix2D_8h_adac1c1ab9a90014bf3c1cd0bb8381a90}{mat2D\_alloc\_uint32}}(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a7d42d12ab1d6091af0c7529d9f4030f1}{window\_h}}, game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5c85c4e78568f0993d9c4f755f3379b4}{window\_w}});}
\DoxyCodeLine{00363         game\_state-\/>\mbox{\hyperlink{structgame__state__t_a501509da5b0917cc975b96a3b73575d7}{inv\_z\_buffer\_mat}} = \mbox{\hyperlink{Matrix2D_8h_aea533ae4263119e0abba26e2d87182dd}{mat2D\_alloc}}(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a7d42d12ab1d6091af0c7529d9f4030f1}{window\_h}}, game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5c85c4e78568f0993d9c4f755f3379b4}{window\_w}});}
\DoxyCodeLine{00364 }
\DoxyCodeLine{00365         game\_state-\/>\mbox{\hyperlink{structgame__state__t_aecd77938a1375613f71e3c398f2bf0e1}{window\_surface}} = SDL\_GetWindowSurface(game\_state-\/>\mbox{\hyperlink{structgame__state__t_a3e60669bcd392a51cf6314b25dc029f2}{window}});}
\DoxyCodeLine{00366     \}}
\DoxyCodeLine{00367 \}}
\DoxyCodeLine{00368 }
\DoxyCodeLine{\Hypertarget{display_8c_source_l00369}\mbox{\hyperlink{display_8c_a3279af675ec492a0b025d28973026251}{00369}} \textcolor{keywordtype}{void} \mbox{\hyperlink{display_8c_a3279af675ec492a0b025d28973026251}{copy\_mat\_to\_surface\_RGB}}(\mbox{\hyperlink{structgame__state__t}{game\_state\_t}} *game\_state)}
\DoxyCodeLine{00370 \{}
\DoxyCodeLine{00371     SDL\_LockSurface(game\_state-\/>\mbox{\hyperlink{structgame__state__t_aecd77938a1375613f71e3c398f2bf0e1}{window\_surface}});}
\DoxyCodeLine{00372 }
\DoxyCodeLine{00373     memcpy(game\_state-\/>\mbox{\hyperlink{structgame__state__t_aecd77938a1375613f71e3c398f2bf0e1}{window\_surface}}-\/>pixels, game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}}.\mbox{\hyperlink{structMat2D__uint32_a79e155b6ec688f2dcbf81b878b351cd9}{elements}}, \textcolor{keyword}{sizeof}(uint32\_t) * game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}}.\mbox{\hyperlink{structMat2D__uint32_a20afe9ce6a7fd1eebccaf13e4b6ec886}{rows}} * game\_state-\/>\mbox{\hyperlink{structgame__state__t_a5277b42d23e322d6f88e978df0edaf04}{window\_pixels\_mat}}.\mbox{\hyperlink{structMat2D__uint32_a956aa085cebaf71324dbee36f4a20bb4}{cols}});}
\DoxyCodeLine{00374 }
\DoxyCodeLine{00375     SDL\_UnlockSurface(game\_state-\/>\mbox{\hyperlink{structgame__state__t_aecd77938a1375613f71e3c398f2bf0e1}{window\_surface}});}
\DoxyCodeLine{00376 \}}

\end{DoxyCode}
